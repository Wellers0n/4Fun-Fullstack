{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/objectSpread","data":{"isAsync":false}},{"name":"./getChildEventSubscriber","data":{"isAsync":false}},{"name":"./getChildRouter","data":{"isAsync":false}},{"name":"./routers/getNavigationActionCreators","data":{"isAsync":false}},{"name":"./getChildrenNavigationCache","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _objectSpread2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/objectSpread\"));\n\n  var _getChildEventSubscriber = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"./getChildEventSubscriber\"));\n\n  var _getChildRouter = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"./getChildRouter\"));\n\n  var _getNavigationActionCreators = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"./routers/getNavigationActionCreators\"));\n\n  var _getChildrenNavigationCache = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"./getChildrenNavigationCache\"));\n\n  var createParamGetter = function createParamGetter(route) {\n    return function (paramName, defaultValue) {\n      var params = route.params;\n\n      if (params && paramName in params) {\n        return params[paramName];\n      }\n\n      return defaultValue;\n    };\n  };\n\n  function _getChildNavigation(navigation, childKey, getCurrentParentNavigation) {\n    var children = (0, _getChildrenNavigationCache.default)(navigation);\n    var childRoute = navigation.state.routes.find(function (r) {\n      return r.key === childKey;\n    });\n\n    if (!childRoute) {\n      return null;\n    }\n\n    if (children[childKey] && children[childKey].state === childRoute) {\n      return children[childKey];\n    }\n\n    var childRouter = (0, _getChildRouter.default)(navigation.router, childRoute.routeName);\n    var focusedGrandChildRoute = childRoute.routes && typeof childRoute.index === 'number' ? childRoute.routes[childRoute.index] : null;\n    var actionCreators = (0, _objectSpread2.default)({}, navigation.actions, navigation.router.getActionCreators(childRoute, navigation.state.key), childRouter ? childRouter.getActionCreators(focusedGrandChildRoute, childRoute.key) : {}, (0, _getNavigationActionCreators.default)(childRoute));\n    var actionHelpers = {};\n    Object.keys(actionCreators).forEach(function (actionName) {\n      actionHelpers[actionName] = function () {\n        var actionCreator = actionCreators[actionName];\n        var action = actionCreator.apply(void 0, arguments);\n        return navigation.dispatch(action);\n      };\n    });\n    var _isFirstRouteInParent = true;\n    var parentNavigation = getCurrentParentNavigation();\n\n    if (parentNavigation) {\n      _isFirstRouteInParent = parentNavigation.state.routes.indexOf(childRoute) === 0;\n    }\n\n    if (children[childKey] && children[childKey].isFirstRouteInParent() === _isFirstRouteInParent) {\n      children[childKey] = (0, _objectSpread2.default)({}, children[childKey], actionHelpers, {\n        state: childRoute,\n        router: childRouter,\n        actions: actionCreators,\n        getParam: createParamGetter(childRoute)\n      });\n      return children[childKey];\n    } else {\n      var childSubscriber = (0, _getChildEventSubscriber.default)(navigation.addListener, childKey);\n      children[childKey] = (0, _objectSpread2.default)({}, actionHelpers, {\n        state: childRoute,\n        router: childRouter,\n        actions: actionCreators,\n        getParam: createParamGetter(childRoute),\n        getChildNavigation: function getChildNavigation(grandChildKey) {\n          return _getChildNavigation(children[childKey], grandChildKey, function () {\n            var nav = getCurrentParentNavigation();\n            return nav && nav.getChildNavigation(childKey);\n          });\n        },\n        isFocused: function isFocused() {\n          var currentNavigation = getCurrentParentNavigation();\n\n          if (!currentNavigation) {\n            return false;\n          }\n\n          var _currentNavigation$st = currentNavigation.state,\n              routes = _currentNavigation$st.routes,\n              index = _currentNavigation$st.index;\n\n          if (!currentNavigation.isFocused()) {\n            return false;\n          }\n\n          if (routes[index].key === childKey) {\n            return true;\n          }\n\n          return false;\n        },\n        isFirstRouteInParent: function isFirstRouteInParent() {\n          return _isFirstRouteInParent;\n        },\n        dispatch: navigation.dispatch,\n        getScreenProps: navigation.getScreenProps,\n        dangerouslyGetParent: getCurrentParentNavigation,\n        addListener: childSubscriber.addListener,\n        emit: childSubscriber.emit\n      });\n      return children[childKey];\n    }\n  }\n\n  var _default = _getChildNavigation;\n  exports.default = _default;\n});","map":[[9,0,1,0],[11,0,1,63],[13,0,1,126],[15,0,1,171],[17,0,1,250],[19,0,1,319],[19,6,1,323,"createParamGetter"],[19,23,1,340],[19,26,1,341],[19,35,1,350,"createParamGetter"],[19,52,1,341],[19,53,1,368,"route"],[19,58,1,341],[19,60,1,374],[20,0,1,375],[20,11,1,382],[20,21,1,391,"paramName"],[20,30,1,382],[20,32,1,401,"defaultValue"],[20,44,1,382],[20,46,1,414],[21,0,1,415],[21,10,1,419,"params"],[21,16,1,425],[21,19,1,426,"route"],[21,24,1,431],[21,25,1,432,"params"],[21,31,1,415],[23,0,1,439],[23,10,1,442,"params"],[23,16,1,448],[23,20,1,450,"paramName"],[23,29,1,459],[23,33,1,463,"params"],[23,39,1,439],[23,41,1,470],[24,0,1,471],[24,15,1,478,"params"],[24,21,1,484],[24,22,1,485,"paramName"],[24,31,1,484],[24,32,1,471],[25,0,1,497],[27,0,1,497],[27,13,1,504,"defaultValue"],[27,25,1,497],[28,0,1,518],[28,5,1,375],[29,0,1,520],[29,3,1,319],[31,0,1,521],[31,11,1,530,"_getChildNavigation"],[31,30,1,521],[31,31,1,550,"navigation"],[31,41,1,521],[31,43,1,561,"childKey"],[31,51,1,521],[31,53,1,570,"getCurrentParentNavigation"],[31,79,1,521],[31,81,1,597],[32,0,1,598],[32,8,1,602,"children"],[32,16,1,610],[32,19,1,611],[32,60,1,638,"navigation"],[32,70,1,611],[32,71,1,598],[33,0,1,650],[33,8,1,654,"childRoute"],[33,18,1,664],[33,21,1,665,"navigation"],[33,31,1,675],[33,32,1,676,"state"],[33,37,1,665],[33,38,1,682,"routes"],[33,44,1,665],[33,45,1,689,"find"],[33,49,1,665],[33,50,1,694],[33,60,1,703,"r"],[33,61,1,694],[33,63,1,705],[34,0,1,706],[34,13,1,713,"r"],[34,14,1,714],[34,15,1,715,"key"],[34,18,1,713],[34,23,1,721,"childKey"],[34,31,1,706],[35,0,1,731],[35,5,1,665],[35,6,1,650],[37,0,1,733],[37,8,1,736],[37,9,1,737,"childRoute"],[37,19,1,733],[37,21,1,748],[38,0,1,749],[38,13,1,756],[38,17,1,749],[39,0,1,762],[41,0,1,762],[41,8,1,765,"children"],[41,16,1,773],[41,17,1,774,"childKey"],[41,25,1,773],[41,26,1,765],[41,30,1,785,"children"],[41,38,1,793],[41,39,1,794,"childKey"],[41,47,1,793],[41,48,1,785],[41,49,1,804,"state"],[41,54,1,785],[41,59,1,812,"childRoute"],[41,69,1,762],[41,71,1,823],[42,0,1,824],[42,13,1,831,"children"],[42,21,1,839],[42,22,1,840,"childKey"],[42,30,1,839],[42,31,1,824],[43,0,1,851],[45,0,1,851],[45,8,1,855,"childRouter"],[45,19,1,866],[45,22,1,867],[45,51,1,882,"navigation"],[45,61,1,892],[45,62,1,893,"router"],[45,68,1,867],[45,70,1,900,"childRoute"],[45,80,1,910],[45,81,1,911,"routeName"],[45,90,1,867],[45,91,1,851],[46,0,1,922],[46,8,1,926,"focusedGrandChildRoute"],[46,30,1,948],[46,33,1,949,"childRoute"],[46,43,1,959],[46,44,1,960,"routes"],[46,50,1,949],[46,54,1,968],[46,61,1,975,"childRoute"],[46,71,1,985],[46,72,1,986,"index"],[46,77,1,968],[46,82,1,994],[46,90,1,949],[46,93,1,1003,"childRoute"],[46,103,1,1013],[46,104,1,1014,"routes"],[46,110,1,1003],[46,111,1,1021,"childRoute"],[46,121,1,1031],[46,122,1,1032,"index"],[46,127,1,1003],[46,128,1,949],[46,131,1,1039],[46,135,1,922],[47,0,1,1044],[47,8,1,1048,"actionCreators"],[47,22,1,1062],[47,25,1,1063],[47,53,1,1077],[47,55,1,1063],[47,57,1,1080,"navigation"],[47,67,1,1090],[47,68,1,1091,"actions"],[47,75,1,1063],[47,77,1,1099,"navigation"],[47,87,1,1109],[47,88,1,1110,"router"],[47,94,1,1099],[47,95,1,1117,"getActionCreators"],[47,112,1,1099],[47,113,1,1135,"childRoute"],[47,123,1,1099],[47,125,1,1146,"navigation"],[47,135,1,1156],[47,136,1,1157,"state"],[47,141,1,1146],[47,142,1,1163,"key"],[47,145,1,1099],[47,146,1,1063],[47,148,1,1168,"childRouter"],[47,159,1,1179],[47,162,1,1180,"childRouter"],[47,173,1,1191],[47,174,1,1192,"getActionCreators"],[47,191,1,1180],[47,192,1,1210,"focusedGrandChildRoute"],[47,214,1,1180],[47,216,1,1233,"childRoute"],[47,226,1,1243],[47,227,1,1244,"key"],[47,230,1,1180],[47,231,1,1179],[47,234,1,1249],[47,236,1,1063],[47,238,1,1252],[47,280,1,1280,"childRoute"],[47,290,1,1252],[47,291,1,1063],[47,292,1,1044],[48,0,1,1293],[48,8,1,1297,"actionHelpers"],[48,21,1,1310],[48,24,1,1311],[48,26,1,1293],[49,0,1,1314,"Object"],[49,4,1,1314,"Object"],[49,10,1,1320],[49,11,1,1321,"keys"],[49,15,1,1314],[49,16,1,1326,"actionCreators"],[49,30,1,1314],[49,32,1,1342,"forEach"],[49,39,1,1314],[49,40,1,1350],[49,50,1,1359,"actionName"],[49,60,1,1350],[49,62,1,1370],[50,0,1,1371,"actionHelpers"],[50,6,1,1371,"actionHelpers"],[50,19,1,1384],[50,20,1,1385,"actionName"],[50,30,1,1384],[50,31,1,1371],[50,34,1,1397],[50,46,1,1407],[51,0,1,1408],[51,12,1,1412,"actionCreator"],[51,25,1,1425],[51,28,1,1426,"actionCreators"],[51,42,1,1440],[51,43,1,1441,"actionName"],[51,53,1,1440],[51,54,1,1408],[52,0,1,1453],[52,12,1,1457,"action"],[52,18,1,1463],[52,21,1,1464,"actionCreator"],[52,34,1,1477],[52,35,1,1478,"apply"],[52,40,1,1464],[52,41,1,1484],[52,46,1,1489],[52,47,1,1464],[52,49,1,1491,"arguments"],[52,58,1,1464],[52,59,1,1453],[53,0,1,1502],[53,15,1,1509,"navigation"],[53,25,1,1519],[53,26,1,1520,"dispatch"],[53,34,1,1509],[53,35,1,1529,"action"],[53,41,1,1509],[53,42,1,1502],[54,0,1,1538],[54,7,1,1371],[55,0,1,1540],[55,5,1,1314],[56,0,1,1542],[56,8,1,1546,"_isFirstRouteInParent"],[56,29,1,1567],[56,32,1,1568],[56,36,1,1542],[57,0,1,1573],[57,8,1,1577,"parentNavigation"],[57,24,1,1593],[57,27,1,1594,"getCurrentParentNavigation"],[57,53,1,1620],[57,55,1,1573],[59,0,1,1623],[59,8,1,1626,"parentNavigation"],[59,24,1,1623],[59,26,1,1643],[60,0,1,1644,"_isFirstRouteInParent"],[60,6,1,1644,"_isFirstRouteInParent"],[60,27,1,1665],[60,30,1,1666,"parentNavigation"],[60,46,1,1682],[60,47,1,1683,"state"],[60,52,1,1666],[60,53,1,1689,"routes"],[60,59,1,1666],[60,60,1,1696,"indexOf"],[60,67,1,1666],[60,68,1,1704,"childRoute"],[60,78,1,1666],[60,84,1,1718],[60,85,1,1644],[61,0,1,1721],[63,0,1,1721],[63,8,1,1724,"children"],[63,16,1,1732],[63,17,1,1733,"childKey"],[63,25,1,1732],[63,26,1,1724],[63,30,1,1744,"children"],[63,38,1,1752],[63,39,1,1753,"childKey"],[63,47,1,1752],[63,48,1,1744],[63,49,1,1763,"isFirstRouteInParent"],[63,69,1,1744],[63,76,1,1788,"_isFirstRouteInParent"],[63,97,1,1721],[63,99,1,1810],[64,0,1,1811,"children"],[64,6,1,1811,"children"],[64,14,1,1819],[64,15,1,1820,"childKey"],[64,23,1,1819],[64,24,1,1811],[64,27,1,1830],[64,55,1,1844],[64,57,1,1830],[64,59,1,1847,"children"],[64,67,1,1855],[64,68,1,1856,"childKey"],[64,76,1,1855],[64,77,1,1830],[64,79,1,1866,"actionHelpers"],[64,92,1,1830],[64,94,1,1880],[65,0,1,1881,"state"],[65,8,1,1881,"state"],[65,13,1,1886],[65,15,1,1887,"childRoute"],[65,25,1,1880],[66,0,1,1898,"router"],[66,8,1,1898,"router"],[66,14,1,1904],[66,16,1,1905,"childRouter"],[66,27,1,1880],[67,0,1,1917,"actions"],[67,8,1,1917,"actions"],[67,15,1,1924],[67,17,1,1925,"actionCreators"],[67,31,1,1880],[68,0,1,1940,"getParam"],[68,8,1,1940,"getParam"],[68,16,1,1948],[68,18,1,1949,"createParamGetter"],[68,35,1,1966],[68,36,1,1967,"childRoute"],[68,46,1,1966],[69,0,1,1880],[69,7,1,1830],[69,8,1,1811],[70,0,1,1981],[70,13,1,1988,"children"],[70,21,1,1996],[70,22,1,1997,"childKey"],[70,30,1,1996],[70,31,1,1981],[71,0,1,2008],[71,5,1,1721],[71,11,1,2012],[72,0,1,2013],[72,10,1,2017,"childSubscriber"],[72,25,1,2032],[72,28,1,2033],[72,66,1,2057,"navigation"],[72,76,1,2067],[72,77,1,2068,"addListener"],[72,88,1,2033],[72,90,1,2080,"childKey"],[72,98,1,2033],[72,99,1,2013],[73,0,1,2090,"children"],[73,6,1,2090,"children"],[73,14,1,2098],[73,15,1,2099,"childKey"],[73,23,1,2098],[73,24,1,2090],[73,27,1,2109],[73,55,1,2123],[73,57,1,2109],[73,59,1,2126,"actionHelpers"],[73,72,1,2109],[73,74,1,2140],[74,0,1,2141,"state"],[74,8,1,2141,"state"],[74,13,1,2146],[74,15,1,2147,"childRoute"],[74,25,1,2140],[75,0,1,2158,"router"],[75,8,1,2158,"router"],[75,14,1,2164],[75,16,1,2165,"childRouter"],[75,27,1,2140],[76,0,1,2177,"actions"],[76,8,1,2177,"actions"],[76,15,1,2184],[76,17,1,2185,"actionCreators"],[76,31,1,2140],[77,0,1,2200,"getParam"],[77,8,1,2200,"getParam"],[77,16,1,2208],[77,18,1,2209,"createParamGetter"],[77,35,1,2226],[77,36,1,2227,"childRoute"],[77,46,1,2226],[77,47,1,2140],[78,0,1,2239,"getChildNavigation"],[78,8,1,2239,"getChildNavigation"],[78,26,1,2257],[78,28,1,2258],[78,37,1,2267,"getChildNavigation"],[78,55,1,2258],[78,56,1,2286,"grandChildKey"],[78,69,1,2258],[78,71,1,2300],[79,0,1,2301],[79,17,1,2308,"_getChildNavigation"],[79,36,1,2327],[79,37,1,2328,"children"],[79,45,1,2336],[79,46,1,2337,"childKey"],[79,54,1,2336],[79,55,1,2327],[79,57,1,2347,"grandChildKey"],[79,70,1,2327],[79,72,1,2361],[79,84,1,2371],[80,0,1,2372],[80,16,1,2376,"nav"],[80,19,1,2379],[80,22,1,2380,"getCurrentParentNavigation"],[80,48,1,2406],[80,50,1,2372],[81,0,1,2409],[81,19,1,2416,"nav"],[81,22,1,2419],[81,26,1,2421,"nav"],[81,29,1,2424],[81,30,1,2425,"getChildNavigation"],[81,48,1,2421],[81,49,1,2444,"childKey"],[81,57,1,2421],[81,58,1,2409],[82,0,1,2455],[82,11,1,2327],[82,12,1,2301],[83,0,1,2458],[83,9,1,2140],[84,0,1,2459,"isFocused"],[84,8,1,2459,"isFocused"],[84,17,1,2468],[84,19,1,2469],[84,28,1,2478,"isFocused"],[84,37,1,2469],[84,40,1,2489],[85,0,1,2490],[85,14,1,2494,"currentNavigation"],[85,31,1,2511],[85,34,1,2512,"getCurrentParentNavigation"],[85,60,1,2538],[85,62,1,2490],[87,0,1,2541],[87,14,1,2544],[87,15,1,2545,"currentNavigation"],[87,32,1,2541],[87,34,1,2563],[88,0,1,2564],[88,19,1,2571],[88,24,1,2564],[89,0,1,2578],[91,0,1,2578],[91,14,1,2582,"_currentNavigation$st"],[91,35,1,2603],[91,38,1,2604,"currentNavigation"],[91,55,1,2621],[91,56,1,2622,"state"],[91,61,1,2578],[92,0,1,2578],[92,14,1,2628,"routes"],[92,20,1,2634],[92,23,1,2635,"_currentNavigation$st"],[92,44,1,2656],[92,45,1,2657,"routes"],[92,51,1,2578],[93,0,1,2578],[93,14,1,2664,"index"],[93,19,1,2669],[93,22,1,2670,"_currentNavigation$st"],[93,43,1,2691],[93,44,1,2692,"index"],[93,49,1,2578],[95,0,1,2698],[95,14,1,2701],[95,15,1,2702,"currentNavigation"],[95,32,1,2719],[95,33,1,2720,"isFocused"],[95,42,1,2702],[95,44,1,2698],[95,46,1,2732],[96,0,1,2733],[96,19,1,2740],[96,24,1,2733],[97,0,1,2747],[99,0,1,2747],[99,14,1,2750,"routes"],[99,20,1,2756],[99,21,1,2757,"index"],[99,26,1,2756],[99,27,1,2750],[99,28,1,2764,"key"],[99,31,1,2750],[99,36,1,2770,"childKey"],[99,44,1,2747],[99,46,1,2779],[100,0,1,2780],[100,19,1,2787],[100,23,1,2780],[101,0,1,2793],[103,0,1,2793],[103,17,1,2800],[103,22,1,2793],[104,0,1,2807],[104,9,1,2140],[105,0,1,2808,"isFirstRouteInParent"],[105,8,1,2808,"isFirstRouteInParent"],[105,28,1,2828],[105,30,1,2829],[105,39,1,2838,"isFirstRouteInParent"],[105,59,1,2829],[105,62,1,2860],[106,0,1,2861],[106,17,1,2868,"_isFirstRouteInParent"],[106,38,1,2861],[107,0,1,2891],[107,9,1,2140],[108,0,1,2892,"dispatch"],[108,8,1,2892,"dispatch"],[108,16,1,2900],[108,18,1,2901,"navigation"],[108,28,1,2911],[108,29,1,2912,"dispatch"],[108,37,1,2140],[109,0,1,2921,"getScreenProps"],[109,8,1,2921,"getScreenProps"],[109,22,1,2935],[109,24,1,2936,"navigation"],[109,34,1,2946],[109,35,1,2947,"getScreenProps"],[109,49,1,2140],[110,0,1,2962,"dangerouslyGetParent"],[110,8,1,2962,"dangerouslyGetParent"],[110,28,1,2982],[110,30,1,2983,"getCurrentParentNavigation"],[110,56,1,2140],[111,0,1,3010,"addListener"],[111,8,1,3010,"addListener"],[111,19,1,3021],[111,21,1,3022,"childSubscriber"],[111,36,1,3037],[111,37,1,3038,"addListener"],[111,48,1,2140],[112,0,1,3050,"emit"],[112,8,1,3050,"emit"],[112,12,1,3054],[112,14,1,3055,"childSubscriber"],[112,29,1,3070],[112,30,1,3071,"emit"],[113,0,1,2140],[113,7,1,2109],[113,8,1,2090],[114,0,1,3078],[114,13,1,3085,"children"],[114,21,1,3093],[114,22,1,3094,"childKey"],[114,30,1,3093],[114,31,1,3078],[115,0,1,3105],[116,0,1,3106],[118,17,1,3121,"_getChildNavigation"],[118,36]]},"type":"js/module"}]}