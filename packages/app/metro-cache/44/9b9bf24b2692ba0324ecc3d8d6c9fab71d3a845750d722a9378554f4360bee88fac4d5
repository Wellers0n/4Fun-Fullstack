{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n\n  var _createClass = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n\n  var EventEmitterWithHolding = function () {\n    function EventEmitterWithHolding(emitter, holder) {\n      _classCallCheck(this, EventEmitterWithHolding);\n\n      this._emitter = emitter;\n      this._eventHolder = holder;\n      this._currentEventToken = null;\n      this._emittingHeldEvents = false;\n    }\n\n    _createClass(EventEmitterWithHolding, [{\n      key: \"addListener\",\n      value: function addListener(eventType, listener, context) {\n        return this._emitter.addListener(eventType, listener, context);\n      }\n    }, {\n      key: \"once\",\n      value: function once(eventType, listener, context) {\n        return this._emitter.once(eventType, listener, context);\n      }\n    }, {\n      key: \"addRetroactiveListener\",\n      value: function addRetroactiveListener(eventType, listener, context) {\n        var subscription = this._emitter.addListener(eventType, listener, context);\n\n        this._emittingHeldEvents = true;\n\n        this._eventHolder.emitToListener(eventType, listener, context);\n\n        this._emittingHeldEvents = false;\n        return subscription;\n      }\n    }, {\n      key: \"removeAllListeners\",\n      value: function removeAllListeners(eventType) {\n        this._emitter.removeAllListeners(eventType);\n      }\n    }, {\n      key: \"removeCurrentListener\",\n      value: function removeCurrentListener() {\n        this._emitter.removeCurrentListener();\n      }\n    }, {\n      key: \"listeners\",\n      value: function listeners(eventType) {\n        return this._emitter.listeners(eventType);\n      }\n    }, {\n      key: \"emit\",\n      value: function emit(eventType) {\n        var _this$_emitter;\n\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        (_this$_emitter = this._emitter).emit.apply(_this$_emitter, [eventType].concat(args));\n      }\n    }, {\n      key: \"emitAndHold\",\n      value: function emitAndHold(eventType) {\n        var _this$_eventHolder, _this$_emitter2;\n\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n\n        this._currentEventToken = (_this$_eventHolder = this._eventHolder).holdEvent.apply(_this$_eventHolder, [eventType].concat(args));\n\n        (_this$_emitter2 = this._emitter).emit.apply(_this$_emitter2, [eventType].concat(args));\n\n        this._currentEventToken = null;\n      }\n    }, {\n      key: \"releaseCurrentEvent\",\n      value: function releaseCurrentEvent() {\n        if (this._currentEventToken) {\n          this._eventHolder.releaseEvent(this._currentEventToken);\n        } else if (this._emittingHeldEvents) {\n          this._eventHolder.releaseCurrentEvent();\n        }\n      }\n    }, {\n      key: \"releaseHeldEventType\",\n      value: function releaseHeldEventType(eventType) {\n        this._eventHolder.releaseEventType(eventType);\n      }\n    }]);\n\n    return EventEmitterWithHolding;\n  }();\n\n  module.exports = EventEmitterWithHolding;\n});","map":[[2,0,11,0],[8,6,29,6,"EventEmitterWithHolding"],[8,29],[9,0,42,2],[9,37,42,14,"emitter"],[9,44,42,2],[9,46,42,37,"holder"],[9,52,42,2],[9,54,42,58],[10,0,42,58],[12,0,43,4],[12,11,43,9,"_emitter"],[12,19,43,4],[12,22,43,20,"emitter"],[12,29,43,4],[13,0,44,4],[13,11,44,9,"_eventHolder"],[13,23,44,4],[13,26,44,24,"holder"],[13,32,44,4],[14,0,45,4],[14,11,45,9,"_currentEventToken"],[14,29,45,4],[14,32,45,30],[14,36,45,4],[15,0,46,4],[15,11,46,9,"_emittingHeldEvents"],[15,30,46,4],[15,33,46,31],[15,38,46,4],[16,0,47,3],[20,34,52,14,"eventType"],[20,43],[20,45,52,33,"listener"],[20,53],[20,55,52,53,"context"],[20,62],[20,64,52,71],[21,0,53,4],[21,15,53,11],[21,20,53,16,"_emitter"],[21,28,53,11],[21,29,53,25,"addListener"],[21,40,53,11],[21,41,53,37,"eventType"],[21,50,53,11],[21,52,53,48,"listener"],[21,60,53,11],[21,62,53,58,"context"],[21,69,53,11],[21,70,53,4],[22,0,54,3],[25,27,59,7,"eventType"],[25,36],[25,38,59,26,"listener"],[25,46],[25,48,59,46,"context"],[25,55],[25,57,59,64],[26,0,60,4],[26,15,60,11],[26,20,60,16,"_emitter"],[26,28,60,11],[26,29,60,25,"once"],[26,33,60,11],[26,34,60,30,"eventType"],[26,43,60,11],[26,45,60,41,"listener"],[26,53,60,11],[26,55,60,51,"context"],[26,62,60,11],[26,63,60,4],[27,0,61,3],[30,45,84,4,"eventType"],[30,54],[30,56,85,4,"listener"],[30,64],[30,66,86,4,"context"],[30,73],[30,75,87,25],[31,0,88,4],[31,12,88,10,"subscription"],[31,24,88,22],[31,27,88,25],[31,32,88,30,"_emitter"],[31,40,88,25],[31,41,88,39,"addListener"],[31,52,88,25],[31,53,89,6,"eventType"],[31,62,88,25],[31,64,90,6,"listener"],[31,72,88,25],[31,74,91,6,"context"],[31,81,88,25],[31,82,88,4],[33,0,94,4],[33,13,94,9,"_emittingHeldEvents"],[33,32,94,4],[33,35,94,31],[33,39,94,4],[35,0,95,4],[35,13,95,9,"_eventHolder"],[35,25,95,4],[35,26,95,22,"emitToListener"],[35,40,95,4],[35,41,95,37,"eventType"],[35,50,95,4],[35,52,95,48,"listener"],[35,60,95,4],[35,62,95,58,"context"],[35,69,95,4],[37,0,96,4],[37,13,96,9,"_emittingHeldEvents"],[37,32,96,4],[37,35,96,31],[37,40,96,4],[38,0,98,4],[38,15,98,11,"subscription"],[38,27,98,4],[39,0,99,3],[42,41,104,21,"eventType"],[42,50],[42,52,104,40],[43,0,105,4],[43,13,105,9,"_emitter"],[43,21,105,4],[43,22,105,18,"removeAllListeners"],[43,40,105,4],[43,41,105,37,"eventType"],[43,50,105,4],[44,0,106,3],[47,46,111,26],[48,0,112,4],[48,13,112,9,"_emitter"],[48,21,112,4],[48,22,112,18,"removeCurrentListener"],[48,43,112,4],[49,0,113,3],[52,32,118,12,"eventType"],[52,41],[52,43,118,69],[53,0,119,4],[53,15,119,11],[53,20,119,16,"_emitter"],[53,28,119,11],[53,29,119,25,"listeners"],[53,38,119,11],[53,39,119,35,"eventType"],[53,48,119,11],[53,49,119,4],[54,0,120,3],[57,27,125,7,"eventType"],[57,36],[57,38,125,40],[58,0,125,40],[60,0,125,40],[60,42,125,29,"args"],[60,46,125,40],[61,0,125,29,"args"],[61,10,125,29,"args"],[61,14,125,40],[62,0,125,40],[64,0,126,4],[64,31,126,9,"_emitter"],[64,39,126,4],[64,41,126,18,"emit"],[64,45,126,4],[64,69,126,23,"eventType"],[64,78,126,4],[64,87,126,37,"args"],[64,91,126,4],[65,0,127,3],[68,34,144,14,"eventType"],[68,43],[68,45,144,47],[69,0,144,47],[71,0,144,47],[71,43,144,36,"args"],[71,47,144,47],[72,0,144,36,"args"],[72,10,144,36,"args"],[72,14,144,47],[73,0,144,47],[75,0,145,4],[75,13,145,9,"_currentEventToken"],[75,31,145,4],[75,34,145,30],[75,61,145,35,"_eventHolder"],[75,73,145,30],[75,75,145,48,"holdEvent"],[75,84,145,30],[75,112,145,58,"eventType"],[75,121,145,30],[75,130,145,72,"args"],[75,134,145,30],[75,136,145,4],[77,0,146,4],[77,32,146,9,"_emitter"],[77,40,146,4],[77,42,146,18,"emit"],[77,46,146,4],[77,71,146,23,"eventType"],[77,80,146,4],[77,89,146,37,"args"],[77,93,146,4],[79,0,147,4],[79,13,147,9,"_currentEventToken"],[79,31,147,4],[79,34,147,30],[79,38,147,4],[80,0,148,3],[83,44,153,24],[84,0,154,4],[84,12,154,8],[84,17,154,13,"_currentEventToken"],[84,35,154,4],[84,37,154,33],[85,0,155,6],[85,15,155,11,"_eventHolder"],[85,27,155,6],[85,28,155,24,"releaseEvent"],[85,40,155,6],[85,41,155,37],[85,46,155,42,"_currentEventToken"],[85,64,155,6],[86,0,156,5],[86,9,154,4],[86,15,156,11],[86,19,156,15],[86,24,156,20,"_emittingHeldEvents"],[86,43,156,11],[86,45,156,41],[87,0,157,6],[87,15,157,11,"_eventHolder"],[87,27,157,6],[87,28,157,24,"releaseCurrentEvent"],[87,47,157,6],[88,0,158,5],[89,0,159,3],[92,43,165,23,"eventType"],[92,52],[92,54,165,42],[93,0,166,4],[93,13,166,9,"_eventHolder"],[93,25,166,4],[93,26,166,22,"releaseEventType"],[93,42,166,4],[93,43,166,39,"eventType"],[93,52,166,4],[94,0,167,3],[100,0,170,0,"module"],[100,2,170,0,"module"],[100,8,170,6],[100,9,170,7,"exports"],[100,16,170,0],[100,19,170,17,"EventEmitterWithHolding"],[100,42,170,0]]},"type":"js/module"}]}