{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/extends","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = createPointerEventsContainer;\n\n  var _extends2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/extends\"));\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/createClass\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf3 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[7], \"@babel/runtime/helpers/inherits\"));\n\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[8], \"react\"));\n\n  var _jsxFileName = \"/Users/brentvatne/coding/react-navigation-stack/src/views/StackView/createPointerEventsContainer.tsx\";\n  var MIN_POSITION_OFFSET = 0.01;\n\n  function createPointerEventsContainer(Component) {\n    var Container = function (_React$Component) {\n      (0, _inherits2.default)(Container, _React$Component);\n\n      function Container() {\n        var _getPrototypeOf2;\n\n        var _this;\n\n        (0, _classCallCheck2.default)(this, Container);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(Container)).call.apply(_getPrototypeOf2, [this].concat(args)));\n        _this.pointerEvents = _this.computePointerEvents();\n        _this.component = null;\n\n        _this.handleComponentRef = function (component) {\n          _this.component = component;\n\n          if (component && typeof component.setNativeProps !== 'function') {\n            throw new Error('Component must implement method `setNativeProps`');\n          }\n        };\n\n        _this.handlePositionChange = function () {\n          if (_this.component) {\n            var pointerEvents = _this.computePointerEvents();\n\n            if (_this.pointerEvents !== pointerEvents) {\n              _this.pointerEvents = pointerEvents;\n\n              _this.component.setNativeProps({\n                pointerEvents: pointerEvents\n              });\n            }\n          }\n        };\n\n        return _this;\n      }\n\n      (0, _createClass2.default)(Container, [{\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.positionListener && this.positionListener.remove();\n        }\n      }, {\n        key: \"bindPosition\",\n        value: function bindPosition() {\n          this.positionListener && this.positionListener.remove();\n          this.positionListener = new AnimatedValueSubscription(this.props.realPosition, this.handlePositionChange);\n        }\n      }, {\n        key: \"computePointerEvents\",\n        value: function computePointerEvents() {\n          var _this$props = this.props,\n              navigation = _this$props.navigation,\n              realPosition = _this$props.realPosition,\n              scene = _this$props.scene;\n\n          if (scene.isStale || navigation.state.index !== scene.index) {\n            return scene.index > navigation.state.index ? 'box-only' : 'none';\n          }\n\n          var offset = realPosition.__getAnimatedValue() - navigation.state.index;\n\n          if (Math.abs(offset) > MIN_POSITION_OFFSET) {\n            return 'box-only';\n          }\n\n          return 'auto';\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          this.bindPosition();\n          this.pointerEvents = this.computePointerEvents();\n          return React.createElement(Component, (0, _extends2.default)({}, this.props, {\n            pointerEvents: this.pointerEvents,\n            onComponentRef: this.handleComponentRef,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            }\n          }));\n        }\n      }]);\n      return Container;\n    }(React.Component);\n\n    return Container;\n  }\n\n  var AnimatedValueSubscription = function () {\n    function AnimatedValueSubscription(value, callback) {\n      (0, _classCallCheck2.default)(this, AnimatedValueSubscription);\n      this.value = value;\n      this.token = value.addListener(callback);\n    }\n\n    (0, _createClass2.default)(AnimatedValueSubscription, [{\n      key: \"remove\",\n      value: function remove() {\n        this.value.removeListener(this.token);\n      }\n    }]);\n    return AnimatedValueSubscription;\n  }();\n});","map":[[11,0,1,0],[13,0,1,53],[15,0,1,120],[17,0,1,181],[19,0,1,270],[21,0,1,337],[23,0,1,512],[25,0,1,392],[25,6,1,396,"_jsxFileName"],[25,18,1,408],[25,21,1,409],[25,123,1,392],[26,0,1,540],[26,6,1,544,"MIN_POSITION_OFFSET"],[26,25,1,563],[26,28,1,564],[26,32,1,540],[28,0,1,584],[28,11,1,593,"createPointerEventsContainer"],[28,39,1,584],[28,40,1,622,"Component"],[28,49,1,584],[28,51,1,632],[29,0,1,633],[29,8,1,637,"Container"],[29,17,1,646],[29,20,1,647],[29,30,1,656,"_React$Component"],[29,46,1,647],[29,48,1,673],[30,0,1,674],[30,30,1,684,"Container"],[30,39,1,674],[30,41,1,694,"_React$Component"],[30,57,1,674],[32,0,1,712],[32,15,1,721,"Container"],[32,24,1,712],[32,27,1,732],[33,0,1,733],[33,12,1,737,"_getPrototypeOf2"],[33,28,1,733],[35,0,1,754],[35,12,1,758,"_this"],[35,17,1,754],[37,0,1,764],[37,38,1,780],[37,42,1,764],[37,44,1,785,"Container"],[37,53,1,764],[39,0,1,796],[39,13,1,800],[39,17,1,804,"_len"],[39,21,1,808],[39,24,1,809,"arguments"],[39,33,1,818],[39,34,1,819,"length"],[39,40,1,800],[39,42,1,826,"args"],[39,46,1,830],[39,49,1,831],[39,53,1,835,"Array"],[39,58,1,831],[39,59,1,841,"_len"],[39,63,1,831],[39,64,1,800],[39,66,1,847,"_key"],[39,70,1,851],[39,73,1,852],[39,74,1,796],[39,76,1,854,"_key"],[39,80,1,858],[39,83,1,859,"_len"],[39,87,1,796],[39,89,1,864,"_key"],[39,93,1,868],[39,95,1,796],[39,97,1,871],[40,0,1,872,"args"],[40,10,1,872,"args"],[40,14,1,876],[40,15,1,877,"_key"],[40,19,1,876],[40,20,1,872],[40,23,1,883,"arguments"],[40,32,1,892],[40,33,1,893,"_key"],[40,37,1,892],[40,38,1,872],[41,0,1,900],[43,0,1,900,"_this"],[43,8,1,900,"_this"],[43,13,1,905],[43,16,1,906],[43,57,1,933],[43,61,1,906],[43,63,1,938],[43,64,1,939,"_getPrototypeOf2"],[43,80,1,955],[43,83,1,956],[43,113,1,972,"Container"],[43,122,1,956],[43,123,1,938],[43,125,1,984,"call"],[43,129,1,938],[43,130,1,989,"apply"],[43,135,1,938],[43,136,1,995,"_getPrototypeOf2"],[43,152,1,938],[43,154,1,1012],[43,155,1,1013],[43,159,1,1012],[43,161,1,1019,"concat"],[43,167,1,1012],[43,168,1,1026,"args"],[43,172,1,1012],[43,173,1,938],[43,174,1,906],[43,175,1,900],[44,0,1,1034,"_this"],[44,8,1,1034,"_this"],[44,13,1,1039],[44,14,1,1040,"pointerEvents"],[44,27,1,1034],[44,30,1,1054,"_this"],[44,35,1,1059],[44,36,1,1060,"computePointerEvents"],[44,56,1,1054],[44,58,1,1034],[45,0,1,1083,"_this"],[45,8,1,1083,"_this"],[45,13,1,1088],[45,14,1,1089,"component"],[45,23,1,1083],[45,26,1,1099],[45,30,1,1083],[47,0,1,1104,"_this"],[47,8,1,1104,"_this"],[47,13,1,1109],[47,14,1,1110,"handleComponentRef"],[47,32,1,1104],[47,35,1,1129],[47,45,1,1138,"component"],[47,54,1,1129],[47,56,1,1148],[48,0,1,1149,"_this"],[48,10,1,1149,"_this"],[48,15,1,1154],[48,16,1,1155,"component"],[48,25,1,1149],[48,28,1,1165,"component"],[48,37,1,1149],[50,0,1,1175],[50,14,1,1178,"component"],[50,23,1,1187],[50,27,1,1189],[50,34,1,1196,"component"],[50,43,1,1205],[50,44,1,1206,"setNativeProps"],[50,58,1,1189],[50,63,1,1223],[50,73,1,1175],[50,75,1,1234],[51,0,1,1235],[51,18,1,1241],[51,22,1,1245,"Error"],[51,27,1,1241],[51,28,1,1251],[51,78,1,1241],[51,79,1,1235],[52,0,1,1304],[53,0,1,1305],[53,9,1,1104],[55,0,1,1306,"_this"],[55,8,1,1306,"_this"],[55,13,1,1311],[55,14,1,1312,"handlePositionChange"],[55,34,1,1306],[55,37,1,1333],[55,49,1,1343],[56,0,1,1344],[56,14,1,1347,"_this"],[56,19,1,1352],[56,20,1,1353,"component"],[56,29,1,1344],[56,31,1,1363],[57,0,1,1364],[57,16,1,1368,"pointerEvents"],[57,29,1,1381],[57,32,1,1382,"_this"],[57,37,1,1387],[57,38,1,1388,"computePointerEvents"],[57,58,1,1382],[57,60,1,1364],[59,0,1,1411],[59,16,1,1414,"_this"],[59,21,1,1419],[59,22,1,1420,"pointerEvents"],[59,35,1,1414],[59,40,1,1436,"pointerEvents"],[59,53,1,1411],[59,55,1,1450],[60,0,1,1451,"_this"],[60,14,1,1451,"_this"],[60,19,1,1456],[60,20,1,1457,"pointerEvents"],[60,33,1,1451],[60,36,1,1471,"pointerEvents"],[60,49,1,1451],[62,0,1,1485,"_this"],[62,14,1,1485,"_this"],[62,19,1,1490],[62,20,1,1491,"component"],[62,29,1,1485],[62,30,1,1501,"setNativeProps"],[62,44,1,1485],[62,45,1,1516],[63,0,1,1517,"pointerEvents"],[63,16,1,1517,"pointerEvents"],[63,29,1,1530],[63,31,1,1531,"pointerEvents"],[64,0,1,1516],[64,15,1,1485],[65,0,1,1548],[66,0,1,1549],[67,0,1,1550],[67,9,1,1306],[69,0,1,1551],[69,15,1,1558,"_this"],[69,20,1,1551],[70,0,1,1565],[72,0,1,1565],[72,33,1,1578,"Container"],[72,42,1,1565],[72,44,1,1588],[72,45,1,1589],[73,0,1,1590,"key"],[73,8,1,1590,"key"],[73,11,1,1593],[73,13,1,1594],[73,35,1,1589],[74,0,1,1617,"value"],[74,8,1,1617,"value"],[74,13,1,1622],[74,15,1,1623],[74,24,1,1632,"componentWillUnmount"],[74,44,1,1623],[74,47,1,1654],[75,0,1,1655],[75,15,1,1660,"positionListener"],[75,31,1,1655],[75,35,1,1678],[75,40,1,1683,"positionListener"],[75,56,1,1678],[75,57,1,1700,"remove"],[75,63,1,1678],[75,65,1,1655],[76,0,1,1710],[77,0,1,1589],[77,7,1,1588],[77,9,1,1712],[78,0,1,1713,"key"],[78,8,1,1713,"key"],[78,11,1,1716],[78,13,1,1717],[78,27,1,1712],[79,0,1,1732,"value"],[79,8,1,1732,"value"],[79,13,1,1737],[79,15,1,1738],[79,24,1,1747,"bindPosition"],[79,36,1,1738],[79,39,1,1761],[80,0,1,1762],[80,15,1,1767,"positionListener"],[80,31,1,1762],[80,35,1,1785],[80,40,1,1790,"positionListener"],[80,56,1,1785],[80,57,1,1807,"remove"],[80,63,1,1785],[80,65,1,1762],[81,0,1,1816],[81,15,1,1821,"positionListener"],[81,31,1,1816],[81,34,1,1838],[81,38,1,1842,"AnimatedValueSubscription"],[81,63,1,1838],[81,64,1,1868],[81,69,1,1873,"props"],[81,74,1,1868],[81,75,1,1879,"realPosition"],[81,87,1,1838],[81,89,1,1892],[81,94,1,1897,"handlePositionChange"],[81,114,1,1838],[81,115,1,1816],[82,0,1,1920],[83,0,1,1712],[83,7,1,1588],[83,9,1,1922],[84,0,1,1923,"key"],[84,8,1,1923,"key"],[84,11,1,1926],[84,13,1,1927],[84,35,1,1922],[85,0,1,1950,"value"],[85,8,1,1950,"value"],[85,13,1,1955],[85,15,1,1956],[85,24,1,1965,"computePointerEvents"],[85,44,1,1956],[85,47,1,1987],[86,0,1,1988],[86,14,1,1992,"_this$props"],[86,25,1,2003],[86,28,1,2004],[86,33,1,2009,"props"],[86,38,1,1988],[87,0,1,1988],[87,14,1,2015,"navigation"],[87,24,1,2025],[87,27,1,2026,"_this$props"],[87,38,1,2037],[87,39,1,2038,"navigation"],[87,49,1,1988],[88,0,1,1988],[88,14,1,2049,"realPosition"],[88,26,1,2061],[88,29,1,2062,"_this$props"],[88,40,1,2073],[88,41,1,2074,"realPosition"],[88,53,1,1988],[89,0,1,1988],[89,14,1,2087,"scene"],[89,19,1,2092],[89,22,1,2093,"_this$props"],[89,33,1,2104],[89,34,1,2105,"scene"],[89,39,1,1988],[91,0,1,2111],[91,14,1,2114,"scene"],[91,19,1,2119],[91,20,1,2120,"isStale"],[91,27,1,2114],[91,31,1,2129,"navigation"],[91,41,1,2139],[91,42,1,2140,"state"],[91,47,1,2129],[91,48,1,2146,"index"],[91,53,1,2129],[91,58,1,2154,"scene"],[91,63,1,2159],[91,64,1,2160,"index"],[91,69,1,2111],[91,71,1,2166],[92,0,1,2167],[92,19,1,2174,"scene"],[92,24,1,2179],[92,25,1,2180,"index"],[92,30,1,2174],[92,33,1,2186,"navigation"],[92,43,1,2196],[92,44,1,2197,"state"],[92,49,1,2186],[92,50,1,2203,"index"],[92,55,1,2174],[92,58,1,2209],[92,68,1,2174],[92,71,1,2220],[92,77,1,2167],[93,0,1,2228],[95,0,1,2228],[95,14,1,2232,"offset"],[95,20,1,2238],[95,23,1,2239,"realPosition"],[95,35,1,2251],[95,36,1,2252,"__getAnimatedValue"],[95,54,1,2239],[95,59,1,2273,"navigation"],[95,69,1,2283],[95,70,1,2284,"state"],[95,75,1,2273],[95,76,1,2290,"index"],[95,81,1,2228],[97,0,1,2296],[97,14,1,2299,"Math"],[97,18,1,2303],[97,19,1,2304,"abs"],[97,22,1,2299],[97,23,1,2308,"offset"],[97,29,1,2299],[97,33,1,2316,"MIN_POSITION_OFFSET"],[97,52,1,2296],[97,54,1,2336],[98,0,1,2337],[98,19,1,2343],[98,29,1,2337],[99,0,1,2355],[101,0,1,2355],[101,17,1,2361],[101,23,1,2355],[102,0,1,2369],[103,0,1,1922],[103,7,1,1588],[103,9,1,2371],[104,0,1,2372,"key"],[104,8,1,2372,"key"],[104,11,1,2375],[104,13,1,2376],[104,21,1,2371],[105,0,1,2385,"value"],[105,8,1,2385,"value"],[105,13,1,2390],[105,15,1,2391],[105,24,1,2400,"render"],[105,30,1,2391],[105,33,1,2408],[106,0,1,2409],[106,15,1,2414,"bindPosition"],[106,27,1,2409],[107,0,1,2429],[107,15,1,2434,"pointerEvents"],[107,28,1,2429],[107,31,1,2448],[107,36,1,2453,"computePointerEvents"],[107,56,1,2448],[107,58,1,2429],[108,0,1,2476],[108,17,1,2483,"React"],[108,22,1,2488],[108,23,1,2489,"createElement"],[108,36,1,2483],[108,37,1,2503,"Component"],[108,46,1,2483],[108,48,1,2513],[108,71,1,2522],[108,73,1,2513],[108,75,1,2525],[108,80,1,2530,"props"],[108,85,1,2513],[108,87,1,2536],[109,0,1,2537,"pointerEvents"],[109,12,1,2537,"pointerEvents"],[109,25,1,2550],[109,27,1,2551],[109,32,1,2556,"pointerEvents"],[109,45,1,2536],[110,0,1,2570,"onComponentRef"],[110,12,1,2570,"onComponentRef"],[110,26,1,2584],[110,28,1,2585],[110,33,1,2590,"handleComponentRef"],[110,51,1,2536],[111,0,1,2609,"__source"],[111,12,1,2609,"__source"],[111,20,1,2617],[111,22,1,2618],[112,0,1,2619,"fileName"],[112,14,1,2619,"fileName"],[112,22,1,2627],[112,24,1,2628,"_jsxFileName"],[112,36,1,2618],[113,0,1,2641,"lineNumber"],[113,14,1,2641,"lineNumber"],[113,24,1,2651],[113,26,1,2652],[114,0,1,2618],[115,0,1,2536],[115,11,1,2513],[115,12,1,2483],[115,13,1,2476],[116,0,1,2660],[117,0,1,2371],[117,7,1,1588],[117,8,1,1565],[118,0,1,2664],[118,13,1,2671,"Container"],[118,22,1,2664],[119,0,1,2682],[119,5,1,647],[119,6,1,2683,"React"],[119,11,1,2688],[119,12,1,2689,"Component"],[119,21,1,647],[119,22,1,633],[121,0,1,2700],[121,11,1,2707,"Container"],[121,20,1,2700],[122,0,1,2718],[124,0,1,2718],[124,6,1,2722,"AnimatedValueSubscription"],[124,31,1,2747],[124,34,1,2748],[124,46,1,2758],[125,0,1,2759],[125,13,1,2768,"AnimatedValueSubscription"],[125,38,1,2759],[125,39,1,2794,"value"],[125,44,1,2759],[125,46,1,2800,"callback"],[125,54,1,2759],[125,56,1,2809],[126,0,1,2810],[126,36,1,2826],[126,40,1,2810],[126,42,1,2831,"AnimatedValueSubscription"],[126,67,1,2810],[127,0,1,2858],[127,11,1,2863,"value"],[127,16,1,2858],[127,19,1,2869,"value"],[127,24,1,2858],[128,0,1,2875],[128,11,1,2880,"token"],[128,16,1,2875],[128,19,1,2886,"value"],[128,24,1,2891],[128,25,1,2892,"addListener"],[128,36,1,2886],[128,37,1,2904,"callback"],[128,45,1,2886],[128,46,1,2875],[129,0,1,2915],[131,0,1,2915],[131,31,1,2928,"AnimatedValueSubscription"],[131,56,1,2915],[131,58,1,2954],[131,59,1,2955],[132,0,1,2956,"key"],[132,6,1,2956,"key"],[132,9,1,2959],[132,11,1,2960],[132,19,1,2955],[133,0,1,2969,"value"],[133,6,1,2969,"value"],[133,11,1,2974],[133,13,1,2975],[133,22,1,2984,"remove"],[133,28,1,2975],[133,31,1,2992],[134,0,1,2993],[134,13,1,2998,"value"],[134,18,1,2993],[134,19,1,3004,"removeListener"],[134,33,1,2993],[134,34,1,3019],[134,39,1,3024,"token"],[134,44,1,2993],[135,0,1,3032],[136,0,1,2955],[136,5,1,2954],[136,6,1,2915],[137,0,1,3036],[137,11,1,3043,"AnimatedValueSubscription"],[137,36,1,3036],[138,0,1,3070],[138,3,1,2748],[138,5,1,2718]]},"type":"js/module"}]}