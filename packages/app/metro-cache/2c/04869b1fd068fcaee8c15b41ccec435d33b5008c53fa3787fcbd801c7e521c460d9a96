{"dependencies":[{"name":"AssetRegistry","data":{"isAsync":false}},{"name":"AssetSourceResolver","data":{"isAsync":false}},{"name":"NativeModules","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var AssetRegistry = _$$_REQUIRE(_dependencyMap[0], \"AssetRegistry\");\n\n  var AssetSourceResolver = _$$_REQUIRE(_dependencyMap[1], \"AssetSourceResolver\");\n\n  var _customSourceTransformer, _serverURL, _scriptURL;\n\n  var _sourceCodeScriptURL;\n\n  function getSourceCodeScriptURL() {\n    if (_sourceCodeScriptURL) {\n      return _sourceCodeScriptURL;\n    }\n\n    var sourceCode = global.nativeExtensions && global.nativeExtensions.SourceCode;\n\n    if (!sourceCode) {\n      var NativeModules = _$$_REQUIRE(_dependencyMap[2], \"NativeModules\");\n\n      sourceCode = NativeModules && NativeModules.SourceCode;\n    }\n\n    _sourceCodeScriptURL = sourceCode.scriptURL;\n    return _sourceCodeScriptURL;\n  }\n\n  function getDevServerURL() {\n    if (_serverURL === undefined) {\n      var sourceCodeScriptURL = getSourceCodeScriptURL();\n      var match = sourceCodeScriptURL && sourceCodeScriptURL.match(/^https?:\\/\\/.*?\\//);\n\n      if (match) {\n        _serverURL = match[0];\n      } else {\n        _serverURL = null;\n      }\n    }\n\n    return _serverURL;\n  }\n\n  function _coerceLocalScriptURL(scriptURL) {\n    if (scriptURL) {\n      if (scriptURL.startsWith('assets://')) {\n        return null;\n      }\n\n      scriptURL = scriptURL.substring(0, scriptURL.lastIndexOf('/') + 1);\n\n      if (!scriptURL.includes('://')) {\n        scriptURL = 'file://' + scriptURL;\n      }\n    }\n\n    return scriptURL;\n  }\n\n  function getScriptURL() {\n    if (_scriptURL === undefined) {\n      _scriptURL = _coerceLocalScriptURL(getSourceCodeScriptURL());\n    }\n\n    return _scriptURL;\n  }\n\n  function setCustomSourceTransformer(transformer) {\n    _customSourceTransformer = transformer;\n  }\n\n  function resolveAssetSource(source) {\n    if (typeof source === 'object') {\n      return source;\n    }\n\n    var asset = AssetRegistry.getAssetByID(source);\n\n    if (!asset) {\n      return null;\n    }\n\n    var resolver = new AssetSourceResolver(getDevServerURL(), getScriptURL(), asset);\n\n    if (_customSourceTransformer) {\n      return _customSourceTransformer(resolver);\n    }\n\n    return resolver.defaultAsset();\n  }\n\n  module.exports = resolveAssetSource;\n  module.exports.pickScale = AssetSourceResolver.pickScale;\n  module.exports.setCustomSourceTransformer = setCustomSourceTransformer;\n});","map":[[2,0,14,0],[4,0,16,0],[4,6,16,6,"AssetRegistry"],[4,19,16,19],[4,22,16,22,"require"],[4,33,16,29],[4,69,16,0],[6,0,17,0],[6,6,17,6,"AssetSourceResolver"],[6,25,17,25],[6,28,17,28,"require"],[6,39,17,35],[6,81,17,0],[8,0,21,0],[8,6,21,4,"_customSourceTransformer"],[8,30,21,0],[8,32,21,30,"_serverURL"],[8,42,21,0],[8,44,21,42,"_scriptURL"],[8,54,21,0],[10,0,23,0],[10,6,23,4,"_sourceCodeScriptURL"],[10,26,23,0],[12,0,24,0],[12,11,24,9,"getSourceCodeScriptURL"],[12,33,24,0],[12,36,24,43],[13,0,25,2],[13,8,25,6,"_sourceCodeScriptURL"],[13,28,25,2],[13,30,25,28],[14,0,26,4],[14,13,26,11,"_sourceCodeScriptURL"],[14,33,26,4],[15,0,27,3],[17,0,29,2],[17,8,29,6,"sourceCode"],[17,18,29,16],[17,21,30,4,"global"],[17,27,30,10],[17,28,30,11,"nativeExtensions"],[17,44,30,4],[17,48,30,31,"global"],[17,54,30,37],[17,55,30,38,"nativeExtensions"],[17,71,30,31],[17,72,30,55,"SourceCode"],[17,82,29,2],[19,0,31,2],[19,8,31,6],[19,9,31,7,"sourceCode"],[19,19,31,2],[19,21,31,19],[20,0,32,4],[20,10,32,10,"NativeModules"],[20,23,32,23],[20,26,32,26,"require"],[20,37,32,33],[20,73,32,4],[22,0,33,4,"sourceCode"],[22,6,33,4,"sourceCode"],[22,16,33,14],[22,19,33,17,"NativeModules"],[22,32,33,30],[22,36,33,34,"NativeModules"],[22,49,33,47],[22,50,33,48,"SourceCode"],[22,60,33,4],[23,0,34,3],[25,0,35,2,"_sourceCodeScriptURL"],[25,4,35,2,"_sourceCodeScriptURL"],[25,24,35,22],[25,27,35,25,"sourceCode"],[25,37,35,35],[25,38,35,36,"scriptURL"],[25,47,35,2],[26,0,36,2],[26,11,36,9,"_sourceCodeScriptURL"],[26,31,36,2],[27,0,37,1],[29,0,39,0],[29,11,39,9,"getDevServerURL"],[29,26,39,0],[29,29,39,36],[30,0,40,2],[30,8,40,6,"_serverURL"],[30,18,40,16],[30,23,40,21,"undefined"],[30,32,40,2],[30,34,40,32],[31,0,41,4],[31,10,41,10,"sourceCodeScriptURL"],[31,29,41,29],[31,32,41,32,"getSourceCodeScriptURL"],[31,54,41,54],[31,56,41,4],[32,0,42,4],[32,10,42,10,"match"],[32,15,42,15],[32,18,43,6,"sourceCodeScriptURL"],[32,37,43,25],[32,41,43,29,"sourceCodeScriptURL"],[32,60,43,48],[32,61,43,49,"match"],[32,66,43,29],[32,67,43,55],[32,86,43,29],[32,87,42,4],[34,0,44,4],[34,10,44,8,"match"],[34,15,44,4],[34,17,44,15],[35,0,46,6,"_serverURL"],[35,8,46,6,"_serverURL"],[35,18,46,16],[35,21,46,19,"match"],[35,26,46,24],[35,27,46,25],[35,28,46,24],[35,29,46,6],[36,0,47,5],[36,7,44,4],[36,13,47,11],[37,0,49,6,"_serverURL"],[37,8,49,6,"_serverURL"],[37,18,49,16],[37,21,49,19],[37,25,49,6],[38,0,50,5],[39,0,51,3],[41,0,52,2],[41,11,52,9,"_serverURL"],[41,21,52,2],[42,0,53,1],[44,0,55,0],[44,11,55,9,"_coerceLocalScriptURL"],[44,32,55,0],[44,33,55,31,"scriptURL"],[44,42,55,0],[44,44,55,60],[45,0,56,2],[45,8,56,6,"scriptURL"],[45,17,56,2],[45,19,56,17],[46,0,57,4],[46,10,57,8,"scriptURL"],[46,19,57,17],[46,20,57,18,"startsWith"],[46,30,57,8],[46,31,57,29],[46,42,57,8],[46,43,57,4],[46,45,57,43],[47,0,59,6],[47,15,59,13],[47,19,59,6],[48,0,60,5],[50,0,61,4,"scriptURL"],[50,6,61,4,"scriptURL"],[50,15,61,13],[50,18,61,16,"scriptURL"],[50,27,61,25],[50,28,61,26,"substring"],[50,37,61,16],[50,38,61,36],[50,39,61,16],[50,41,61,39,"scriptURL"],[50,50,61,48],[50,51,61,49,"lastIndexOf"],[50,62,61,39],[50,63,61,61],[50,66,61,39],[50,70,61,68],[50,71,61,16],[50,72,61,4],[52,0,62,4],[52,10,62,8],[52,11,62,9,"scriptURL"],[52,20,62,18],[52,21,62,19,"includes"],[52,29,62,9],[52,30,62,28],[52,35,62,9],[52,36,62,4],[52,38,62,36],[53,0,65,6,"scriptURL"],[53,8,65,6,"scriptURL"],[53,17,65,15],[53,20,65,18],[53,32,65,30,"scriptURL"],[53,41,65,6],[54,0,66,5],[55,0,67,3],[57,0,68,2],[57,11,68,9,"scriptURL"],[57,20,68,2],[58,0,69,1],[60,0,71,0],[60,11,71,9,"getScriptURL"],[60,23,71,0],[60,26,71,33],[61,0,72,2],[61,8,72,6,"_scriptURL"],[61,18,72,16],[61,23,72,21,"undefined"],[61,32,72,2],[61,34,72,32],[62,0,73,4,"_scriptURL"],[62,6,73,4,"_scriptURL"],[62,16,73,14],[62,19,73,17,"_coerceLocalScriptURL"],[62,40,73,38],[62,41,73,39,"getSourceCodeScriptURL"],[62,63,73,61],[62,65,73,38],[62,66,73,4],[63,0,74,3],[65,0,75,2],[65,11,75,9,"_scriptURL"],[65,21,75,2],[66,0,76,1],[68,0,78,0],[68,11,78,9,"setCustomSourceTransformer"],[68,37,78,0],[68,38,79,2,"transformer"],[68,49,78,0],[68,51,80,8],[69,0,81,2,"_customSourceTransformer"],[69,4,81,2,"_customSourceTransformer"],[69,28,81,26],[69,31,81,29,"transformer"],[69,42,81,2],[70,0,82,1],[72,0,88,0],[72,11,88,9,"resolveAssetSource"],[72,29,88,0],[72,30,88,28,"source"],[72,36,88,0],[72,38,88,63],[73,0,89,2],[73,8,89,6],[73,15,89,13,"source"],[73,21,89,6],[73,26,89,24],[73,34,89,2],[73,36,89,34],[74,0,90,4],[74,13,90,11,"source"],[74,19,90,4],[75,0,91,3],[77,0,93,2],[77,8,93,8,"asset"],[77,13,93,13],[77,16,93,16,"AssetRegistry"],[77,29,93,29],[77,30,93,30,"getAssetByID"],[77,42,93,16],[77,43,93,43,"source"],[77,49,93,16],[77,50,93,2],[79,0,94,2],[79,8,94,6],[79,9,94,7,"asset"],[79,14,94,2],[79,16,94,14],[80,0,95,4],[80,13,95,11],[80,17,95,4],[81,0,96,3],[83,0,98,2],[83,8,98,8,"resolver"],[83,16,98,16],[83,19,98,19],[83,23,98,23,"AssetSourceResolver"],[83,42,98,19],[83,43,99,4,"getDevServerURL"],[83,58,99,19],[83,60,98,19],[83,62,100,4,"getScriptURL"],[83,74,100,16],[83,76,98,19],[83,78,101,4,"asset"],[83,83,98,19],[83,84,98,2],[85,0,103,2],[85,8,103,6,"_customSourceTransformer"],[85,32,103,2],[85,34,103,32],[86,0,104,4],[86,13,104,11,"_customSourceTransformer"],[86,37,104,35],[86,38,104,36,"resolver"],[86,46,104,35],[86,47,104,4],[87,0,105,3],[89,0,106,2],[89,11,106,9,"resolver"],[89,19,106,17],[89,20,106,18,"defaultAsset"],[89,32,106,9],[89,34,106,2],[90,0,107,1],[92,0,109,0,"module"],[92,2,109,0,"module"],[92,8,109,6],[92,9,109,7,"exports"],[92,16,109,0],[92,19,109,17,"resolveAssetSource"],[92,37,109,0],[93,0,110,0,"module"],[93,2,110,0,"module"],[93,8,110,6],[93,9,110,7,"exports"],[93,16,110,0],[93,17,110,15,"pickScale"],[93,26,110,0],[93,29,110,27,"AssetSourceResolver"],[93,48,110,46],[93,49,110,47,"pickScale"],[93,58,110,0],[94,0,111,0,"module"],[94,2,111,0,"module"],[94,8,111,6],[94,9,111,7,"exports"],[94,16,111,0],[94,17,111,15,"setCustomSourceTransformer"],[94,43,111,0],[94,46,111,44,"setCustomSourceTransformer"],[94,72,111,0]]},"type":"js/module"}]}