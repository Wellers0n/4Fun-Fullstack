{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n\n  var _createClass = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n\n  var invariant = _$$_REQUIRE(_dependencyMap[2], \"invariant\");\n\n  var EventHolder = function () {\n    function EventHolder() {\n      _classCallCheck(this, EventHolder);\n\n      this._heldEvents = {};\n      this._currentEventKey = null;\n    }\n\n    _createClass(EventHolder, [{\n      key: \"holdEvent\",\n      value: function holdEvent(eventType) {\n        this._heldEvents[eventType] = this._heldEvents[eventType] || [];\n        var eventsOfType = this._heldEvents[eventType];\n        var key = {\n          eventType: eventType,\n          index: eventsOfType.length\n        };\n\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        eventsOfType.push(args);\n        return key;\n      }\n    }, {\n      key: \"emitToListener\",\n      value: function emitToListener(eventType, listener, context) {\n        var _this = this;\n\n        var eventsOfType = this._heldEvents[eventType];\n\n        if (!eventsOfType) {\n          return;\n        }\n\n        var origEventKey = this._currentEventKey;\n        eventsOfType.forEach(function (eventHeld, index) {\n          if (!eventHeld) {\n            return;\n          }\n\n          _this._currentEventKey = {\n            eventType: eventType,\n            index: index\n          };\n          listener.apply(context, eventHeld);\n        });\n        this._currentEventKey = origEventKey;\n      }\n    }, {\n      key: \"releaseCurrentEvent\",\n      value: function releaseCurrentEvent() {\n        invariant(this._currentEventKey !== null, 'Not in an emitting cycle; there is no current event');\n        this._currentEventKey && this.releaseEvent(this._currentEventKey);\n      }\n    }, {\n      key: \"releaseEvent\",\n      value: function releaseEvent(token) {\n        delete this._heldEvents[token.eventType][token.index];\n      }\n    }, {\n      key: \"releaseEventType\",\n      value: function releaseEventType(type) {\n        this._heldEvents[type] = [];\n      }\n    }]);\n\n    return EventHolder;\n  }();\n\n  module.exports = EventHolder;\n});","map":[[2,0,11,0],[8,0,13,0],[8,6,13,6,"invariant"],[8,15,13,15],[8,18,13,18,"require"],[8,29,13,25],[8,61,13,0],[10,6,15,6,"EventHolder"],[10,17],[11,0,19,2],[11,27,19,16],[12,0,19,16],[14,0,20,4],[14,11,20,9,"_heldEvents"],[14,22,20,4],[14,25,20,23],[14,27,20,4],[15,0,21,4],[15,11,21,9,"_currentEventKey"],[15,27,21,4],[15,30,21,28],[15,34,21,4],[16,0,22,3],[20,32,45,12,"eventType"],[20,41],[20,43,45,45],[21,0,46,4],[21,13,46,9,"_heldEvents"],[21,24,46,4],[21,25,46,21,"eventType"],[21,34,46,4],[21,38,46,34],[21,43,46,39,"_heldEvents"],[21,54,46,34],[21,55,46,51,"eventType"],[21,64,46,34],[21,69,46,65],[21,71,46,4],[22,0,47,4],[22,12,47,10,"eventsOfType"],[22,24,47,22],[22,27,47,25],[22,32,47,30,"_heldEvents"],[22,43,47,25],[22,44,47,42,"eventType"],[22,53,47,25],[22,54,47,4],[23,0,48,4],[23,12,48,10,"key"],[23,15,48,13],[23,18,48,16],[24,0,49,6,"eventType"],[24,10,49,6,"eventType"],[24,19,49,15],[24,21,49,17,"eventType"],[24,30,48,16],[25,0,50,6,"index"],[25,10,50,6,"index"],[25,15,50,11],[25,17,50,13,"eventsOfType"],[25,29,50,25],[25,30,50,26,"length"],[26,0,48,16],[26,9,48,4],[28,0,45,45],[28,42,45,34,"args"],[28,46,45,45],[29,0,45,34,"args"],[29,10,45,34,"args"],[29,14,45,45],[30,0,45,45],[32,0,52,4,"eventsOfType"],[32,8,52,4,"eventsOfType"],[32,20,52,16],[32,21,52,17,"push"],[32,25,52,4],[32,26,52,22,"args"],[32,30,52,4],[33,0,53,4],[33,15,53,11,"key"],[33,18,53,4],[34,0,54,3],[37,37,64,17,"eventType"],[37,46],[37,48,64,37,"listener"],[37,56],[37,58,64,57,"context"],[37,65],[37,67,64,75],[38,0,64,75],[40,0,65,4],[40,12,65,10,"eventsOfType"],[40,24,65,22],[40,27,65,25],[40,32,65,30,"_heldEvents"],[40,43,65,25],[40,44,65,42,"eventType"],[40,53,65,25],[40,54,65,4],[42,0,66,4],[42,12,66,8],[42,13,66,9,"eventsOfType"],[42,25,66,4],[42,27,66,23],[43,0,67,6],[44,0,68,5],[46,0,69,4],[46,12,69,10,"origEventKey"],[46,24,69,22],[46,27,69,25],[46,32,69,30,"_currentEventKey"],[46,48,69,4],[47,0,70,4,"eventsOfType"],[47,8,70,4,"eventsOfType"],[47,20,70,16],[47,21,70,17,"forEach"],[47,28,70,4],[47,29,70,25],[47,39,70,37,"eventHeld"],[47,48,70,25],[47,50,70,59,"index"],[47,55,70,25],[47,57,70,69],[48,0,71,6],[48,14,71,10],[48,15,71,11,"eventHeld"],[48,24,71,6],[48,26,71,22],[49,0,72,8],[50,0,73,7],[52,0,74,6],[52,10,74,6],[52,15,74,10],[52,16,74,11,"_currentEventKey"],[52,32,74,6],[52,35,74,30],[53,0,75,8,"eventType"],[53,12,75,8,"eventType"],[53,21,75,17],[53,23,75,19,"eventType"],[53,32,74,30],[54,0,76,8,"index"],[54,12,76,8,"index"],[54,17,76,13],[54,19,76,15,"index"],[55,0,74,30],[55,11,74,6],[56,0,78,6,"listener"],[56,10,78,6,"listener"],[56,18,78,14],[56,19,78,15,"apply"],[56,24,78,6],[56,25,78,21,"context"],[56,32,78,6],[56,34,78,30,"eventHeld"],[56,43,78,6],[57,0,79,5],[57,9,70,4],[58,0,80,4],[58,13,80,9,"_currentEventKey"],[58,29,80,4],[58,32,80,28,"origEventKey"],[58,44,80,4],[59,0,81,3],[62,44,91,24],[63,0,92,4,"invariant"],[63,8,92,4,"invariant"],[63,17,92,13],[63,18,93,6],[63,23,93,11,"_currentEventKey"],[63,39,93,6],[63,44,93,32],[63,48,92,13],[63,50,94,6],[63,103,92,13],[63,104,92,4],[64,0,96,4],[64,13,96,9,"_currentEventKey"],[64,29,96,4],[64,33,96,29],[64,38,96,34,"releaseEvent"],[64,50,96,29],[64,51,96,47],[64,56,96,52,"_currentEventKey"],[64,72,96,29],[64,73,96,4],[65,0,97,3],[68,35,105,15,"token"],[68,40],[68,42,105,30],[69,0,106,4],[69,15,106,11],[69,20,106,16,"_heldEvents"],[69,31,106,11],[69,32,106,28,"token"],[69,37,106,33],[69,38,106,34,"eventType"],[69,47,106,11],[69,49,106,45,"token"],[69,54,106,50],[69,55,106,51,"index"],[69,60,106,11],[69,61,106,4],[70,0,107,3],[73,39,114,19,"type"],[73,43],[73,45,114,33],[74,0,115,4],[74,13,115,9,"_heldEvents"],[74,24,115,4],[74,25,115,21,"type"],[74,29,115,4],[74,33,115,29],[74,35,115,4],[75,0,116,3],[81,0,119,0,"module"],[81,2,119,0,"module"],[81,8,119,6],[81,9,119,7,"exports"],[81,16,119,0],[81,19,119,17,"EventHolder"],[81,30,119,0]]},"type":"js/module"}]}