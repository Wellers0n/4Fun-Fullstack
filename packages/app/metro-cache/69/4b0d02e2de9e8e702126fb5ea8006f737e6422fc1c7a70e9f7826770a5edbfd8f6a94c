{"dependencies":[{"name":"./commons","data":{"isAsync":false}},{"name":"./custom-event-target","data":{"isAsync":false}},{"name":"./event-wrapper","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var Commons = _$$_REQUIRE(_dependencyMap[0], \"./commons\");\n\n  var CustomEventTarget = _$$_REQUIRE(_dependencyMap[1], \"./custom-event-target\");\n\n  var EventWrapper = _$$_REQUIRE(_dependencyMap[2], \"./event-wrapper\");\n\n  var LISTENERS = Commons.LISTENERS;\n  var CAPTURE = Commons.CAPTURE;\n  var BUBBLE = Commons.BUBBLE;\n  var ATTRIBUTE = Commons.ATTRIBUTE;\n  var newNode = Commons.newNode;\n  var defineCustomEventTarget = CustomEventTarget.defineCustomEventTarget;\n  var createEventWrapper = EventWrapper.createEventWrapper;\n  var STOP_IMMEDIATE_PROPAGATION_FLAG = EventWrapper.STOP_IMMEDIATE_PROPAGATION_FLAG;\n  var HAS_EVENTTARGET_INTERFACE = typeof window !== \"undefined\" && typeof window.EventTarget !== \"undefined\";\n\n  var EventTarget = module.exports = function EventTarget() {\n    if (this instanceof EventTarget) {\n      Object.defineProperty(this, LISTENERS, {\n        value: Object.create(null)\n      });\n    } else if (arguments.length === 1 && Array.isArray(arguments[0])) {\n      return defineCustomEventTarget(EventTarget, arguments[0]);\n    } else if (arguments.length > 0) {\n      var types = Array(arguments.length);\n\n      for (var i = 0; i < arguments.length; ++i) {\n        types[i] = arguments[i];\n      }\n\n      return defineCustomEventTarget(EventTarget, types);\n    } else {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  EventTarget.prototype = Object.create((HAS_EVENTTARGET_INTERFACE ? window.EventTarget : Object).prototype, {\n    constructor: {\n      value: EventTarget,\n      writable: true,\n      configurable: true\n    },\n    addEventListener: {\n      value: function addEventListener(type, listener, capture) {\n        if (listener == null) {\n          return false;\n        }\n\n        if (typeof listener !== \"function\" && typeof listener !== \"object\") {\n          throw new TypeError(\"\\\"listener\\\" is not an object.\");\n        }\n\n        var kind = capture ? CAPTURE : BUBBLE;\n        var node = this[LISTENERS][type];\n\n        if (node == null) {\n          this[LISTENERS][type] = newNode(listener, kind);\n          return true;\n        }\n\n        var prev = null;\n\n        while (node != null) {\n          if (node.listener === listener && node.kind === kind) {\n            return false;\n          }\n\n          prev = node;\n          node = node.next;\n        }\n\n        prev.next = newNode(listener, kind);\n        return true;\n      },\n      configurable: true,\n      writable: true\n    },\n    removeEventListener: {\n      value: function removeEventListener(type, listener, capture) {\n        if (listener == null) {\n          return false;\n        }\n\n        var kind = capture ? CAPTURE : BUBBLE;\n        var prev = null;\n        var node = this[LISTENERS][type];\n\n        while (node != null) {\n          if (node.listener === listener && node.kind === kind) {\n            if (prev == null) {\n              this[LISTENERS][type] = node.next;\n            } else {\n              prev.next = node.next;\n            }\n\n            return true;\n          }\n\n          prev = node;\n          node = node.next;\n        }\n\n        return false;\n      },\n      configurable: true,\n      writable: true\n    },\n    dispatchEvent: {\n      value: function dispatchEvent(event) {\n        var node = this[LISTENERS][event.type];\n\n        if (node == null) {\n          return true;\n        }\n\n        var wrapped = createEventWrapper(event, this);\n\n        while (node != null) {\n          if (typeof node.listener === \"function\") {\n            node.listener.call(this, wrapped);\n          } else if (node.kind !== ATTRIBUTE && typeof node.listener.handleEvent === \"function\") {\n            node.listener.handleEvent(wrapped);\n          }\n\n          if (wrapped[STOP_IMMEDIATE_PROPAGATION_FLAG]) {\n            break;\n          }\n\n          node = node.next;\n        }\n\n        return !wrapped.defaultPrevented;\n      },\n      configurable: true,\n      writable: true\n    }\n  });\n});","map":[[2,0,7,0],[4,0,13,0],[4,6,13,4,"Commons"],[4,13,13,11],[4,16,13,14,"require"],[4,27,13,21],[4,59,13,0],[6,0,14,0],[6,6,14,4,"CustomEventTarget"],[6,23,14,21],[6,26,14,24,"require"],[6,37,14,31],[6,81,14,0],[8,0,15,0],[8,6,15,4,"EventWrapper"],[8,18,15,16],[8,21,15,19,"require"],[8,32,15,26],[8,70,15,0],[10,0,16,0],[10,6,16,4,"LISTENERS"],[10,15,16,13],[10,18,16,16,"Commons"],[10,25,16,23],[10,26,16,24,"LISTENERS"],[10,35,16,0],[11,0,17,0],[11,6,17,4,"CAPTURE"],[11,13,17,11],[11,16,17,14,"Commons"],[11,23,17,21],[11,24,17,22,"CAPTURE"],[11,31,17,0],[12,0,18,0],[12,6,18,4,"BUBBLE"],[12,12,18,10],[12,15,18,13,"Commons"],[12,22,18,20],[12,23,18,21,"BUBBLE"],[12,29,18,0],[13,0,19,0],[13,6,19,4,"ATTRIBUTE"],[13,15,19,13],[13,18,19,16,"Commons"],[13,25,19,23],[13,26,19,24,"ATTRIBUTE"],[13,35,19,0],[14,0,20,0],[14,6,20,4,"newNode"],[14,13,20,11],[14,16,20,14,"Commons"],[14,23,20,21],[14,24,20,22,"newNode"],[14,31,20,0],[15,0,21,0],[15,6,21,4,"defineCustomEventTarget"],[15,29,21,27],[15,32,21,30,"CustomEventTarget"],[15,49,21,47],[15,50,21,48,"defineCustomEventTarget"],[15,73,21,0],[16,0,22,0],[16,6,22,4,"createEventWrapper"],[16,24,22,22],[16,27,22,25,"EventWrapper"],[16,39,22,37],[16,40,22,38,"createEventWrapper"],[16,58,22,0],[17,0,23,0],[17,6,23,4,"STOP_IMMEDIATE_PROPAGATION_FLAG"],[17,37,23,35],[17,40,24,4,"EventWrapper"],[17,52,24,16],[17,53,24,17,"STOP_IMMEDIATE_PROPAGATION_FLAG"],[17,84,23,0],[18,0,36,0],[18,6,36,4,"HAS_EVENTTARGET_INTERFACE"],[18,31,36,29],[18,34,37,4],[18,41,37,11,"window"],[18,47,37,4],[18,52,37,22],[18,63,37,4],[18,67,38,4],[18,74,38,11,"window"],[18,80,38,17],[18,81,38,18,"EventTarget"],[18,92,38,4],[18,97,38,34],[18,108,36,0],[20,0,51,0],[20,6,51,4,"EventTarget"],[20,17,51,15],[20,20,51,18,"module"],[20,26,51,24],[20,27,51,25,"exports"],[20,34,51,18],[20,37,51,35],[20,46,51,44,"EventTarget"],[20,57,51,35],[20,60,51,58],[21,0,52,4],[21,8,52,8],[21,24,52,24,"EventTarget"],[21,35,52,4],[21,37,52,37],[22,0,62,8,"Object"],[22,6,62,8,"Object"],[22,12,62,14],[22,13,62,15,"defineProperty"],[22,27,62,8],[22,28,62,30],[22,32,62,8],[22,34,62,36,"LISTENERS"],[22,43,62,8],[22,45,62,47],[23,0,62,48,"value"],[23,8,62,48,"value"],[23,13,62,53],[23,15,62,55,"Object"],[23,21,62,61],[23,22,62,62,"create"],[23,28,62,55],[23,29,62,69],[23,33,62,55],[24,0,62,47],[24,7,62,8],[25,0,63,5],[25,5,52,4],[25,11,64,9],[25,15,64,13,"arguments"],[25,24,64,22],[25,25,64,23,"length"],[25,31,64,13],[25,36,64,34],[25,37,64,13],[25,41,64,39,"Array"],[25,46,64,44],[25,47,64,45,"isArray"],[25,54,64,39],[25,55,64,53,"arguments"],[25,64,64,62],[25,65,64,63],[25,66,64,62],[25,67,64,39],[25,68,64,9],[25,70,64,68],[26,0,65,8],[26,13,65,15,"defineCustomEventTarget"],[26,36,65,38],[26,37,65,39,"EventTarget"],[26,48,65,38],[26,50,65,52,"arguments"],[26,59,65,61],[26,60,65,62],[26,61,65,61],[26,62,65,38],[26,63,65,8],[27,0,66,5],[27,5,64,9],[27,11,67,9],[27,15,67,13,"arguments"],[27,24,67,22],[27,25,67,23,"length"],[27,31,67,13],[27,34,67,32],[27,35,67,9],[27,37,67,35],[28,0,68,8],[28,10,68,12,"types"],[28,15,68,17],[28,18,68,20,"Array"],[28,23,68,25],[28,24,68,26,"arguments"],[28,33,68,35],[28,34,68,36,"length"],[28,40,68,25],[28,41,68,8],[30,0,69,8],[30,11,69,13],[30,15,69,17,"i"],[30,16,69,18],[30,19,69,21],[30,20,69,8],[30,22,69,24,"i"],[30,23,69,25],[30,26,69,28,"arguments"],[30,35,69,37],[30,36,69,38,"length"],[30,42,69,8],[30,44,69,46],[30,46,69,48,"i"],[30,47,69,8],[30,49,69,51],[31,0,70,12,"types"],[31,8,70,12,"types"],[31,13,70,17],[31,14,70,18,"i"],[31,15,70,17],[31,16,70,12],[31,19,70,23,"arguments"],[31,28,70,32],[31,29,70,33,"i"],[31,30,70,32],[31,31,70,12],[32,0,71,9],[34,0,78,8],[34,13,78,15,"defineCustomEventTarget"],[34,36,78,38],[34,37,78,39,"EventTarget"],[34,48,78,38],[34,50,78,52,"types"],[34,55,78,38],[34,56,78,8],[35,0,79,5],[35,5,67,9],[35,11,80,9],[36,0,81,8],[36,12,81,14],[36,16,81,18,"TypeError"],[36,25,81,14],[36,26,81,28],[36,61,81,14],[36,62,81,8],[37,0,82,5],[38,0,83,1],[38,3,51,0],[40,0,85,0,"EventTarget"],[40,2,85,0,"EventTarget"],[40,13,85,11],[40,14,85,12,"prototype"],[40,23,85,0],[40,26,85,24,"Object"],[40,32,85,30],[40,33,85,31,"create"],[40,39,85,24],[40,40,86,4],[40,41,86,5,"HAS_EVENTTARGET_INTERFACE"],[40,66,86,30],[40,69,86,33,"window"],[40,75,86,39],[40,76,86,40,"EventTarget"],[40,87,86,30],[40,90,86,54,"Object"],[40,96,86,4],[40,98,86,62,"prototype"],[40,107,85,24],[40,109,87,4],[41,0,88,8,"constructor"],[41,4,88,8,"constructor"],[41,15,88,19],[41,17,88,21],[42,0,89,12,"value"],[42,6,89,12,"value"],[42,11,89,17],[42,13,89,19,"EventTarget"],[42,24,88,21],[43,0,90,12,"writable"],[43,6,90,12,"writable"],[43,14,90,20],[43,16,90,22],[43,20,88,21],[44,0,91,12,"configurable"],[44,6,91,12,"configurable"],[44,18,91,24],[44,20,91,26],[45,0,88,21],[45,5,87,4],[46,0,94,8,"addEventListener"],[46,4,94,8,"addEventListener"],[46,20,94,24],[46,22,94,26],[47,0,95,12,"value"],[47,6,95,12,"value"],[47,11,95,17],[47,13,95,19],[47,22,95,28,"addEventListener"],[47,38,95,19],[47,39,95,45,"type"],[47,43,95,19],[47,45,95,51,"listener"],[47,53,95,19],[47,55,95,61,"capture"],[47,62,95,19],[47,64,95,70],[48,0,96,16],[48,12,96,20,"listener"],[48,20,96,28],[48,24,96,32],[48,28,96,16],[48,30,96,38],[49,0,97,20],[49,17,97,27],[49,22,97,20],[50,0,98,17],[52,0,99,16],[52,12,99,20],[52,19,99,27,"listener"],[52,27,99,20],[52,32,99,40],[52,42,99,20],[52,46,99,54],[52,53,99,61,"listener"],[52,61,99,54],[52,66,99,74],[52,74,99,16],[52,76,99,84],[53,0,100,20],[53,16,100,26],[53,20,100,30,"TypeError"],[53,29,100,26],[53,30,100,40],[53,62,100,26],[53,63,100,20],[54,0,101,17],[56,0,103,16],[56,12,103,20,"kind"],[56,16,103,24],[56,19,103,28,"capture"],[56,26,103,35],[56,29,103,38,"CAPTURE"],[56,36,103,35],[56,39,103,48,"BUBBLE"],[56,45,103,16],[57,0,104,16],[57,12,104,20,"node"],[57,16,104,24],[57,19,104,27],[57,24,104,32,"LISTENERS"],[57,33,104,27],[57,35,104,43,"type"],[57,39,104,27],[57,40,104,16],[59,0,105,16],[59,12,105,20,"node"],[59,16,105,24],[59,20,105,28],[59,24,105,16],[59,26,105,34],[60,0,106,20],[60,15,106,25,"LISTENERS"],[60,24,106,20],[60,26,106,36,"type"],[60,30,106,20],[60,34,106,44,"newNode"],[60,41,106,51],[60,42,106,52,"listener"],[60,50,106,51],[60,52,106,62,"kind"],[60,56,106,51],[60,57,106,20],[61,0,107,20],[61,17,107,27],[61,21,107,20],[62,0,108,17],[64,0,110,16],[64,12,110,20,"prev"],[64,16,110,24],[64,19,110,27],[64,23,110,16],[66,0,111,16],[66,15,111,23,"node"],[66,19,111,27],[66,23,111,31],[66,27,111,16],[66,29,111,37],[67,0,112,20],[67,14,112,24,"node"],[67,18,112,28],[67,19,112,29,"listener"],[67,27,112,24],[67,32,112,42,"listener"],[67,40,112,24],[67,44,112,54,"node"],[67,48,112,58],[67,49,112,59,"kind"],[67,53,112,54],[67,58,112,68,"kind"],[67,62,112,20],[67,64,112,74],[68,0,114,24],[68,19,114,31],[68,24,114,24],[69,0,115,21],[71,0,116,20,"prev"],[71,10,116,20,"prev"],[71,14,116,24],[71,17,116,27,"node"],[71,21,116,20],[72,0,117,20,"node"],[72,10,117,20,"node"],[72,14,117,24],[72,17,117,27,"node"],[72,21,117,31],[72,22,117,32,"next"],[72,26,117,20],[73,0,118,17],[75,0,120,16,"prev"],[75,8,120,16,"prev"],[75,12,120,20],[75,13,120,21,"next"],[75,17,120,16],[75,20,120,28,"newNode"],[75,27,120,35],[75,28,120,36,"listener"],[75,36,120,35],[75,38,120,46,"kind"],[75,42,120,35],[75,43,120,16],[76,0,121,16],[76,15,121,23],[76,19,121,16],[77,0,122,13],[77,7,94,26],[78,0,123,12,"configurable"],[78,6,123,12,"configurable"],[78,18,123,24],[78,20,123,26],[78,24,94,26],[79,0,124,12,"writable"],[79,6,124,12,"writable"],[79,14,124,20],[79,16,124,22],[80,0,94,26],[80,5,87,4],[81,0,127,8,"removeEventListener"],[81,4,127,8,"removeEventListener"],[81,23,127,27],[81,25,127,29],[82,0,128,12,"value"],[82,6,128,12,"value"],[82,11,128,17],[82,13,128,19],[82,22,128,28,"removeEventListener"],[82,41,128,19],[82,42,128,48,"type"],[82,46,128,19],[82,48,128,54,"listener"],[82,56,128,19],[82,58,128,64,"capture"],[82,65,128,19],[82,67,128,73],[83,0,129,16],[83,12,129,20,"listener"],[83,20,129,28],[83,24,129,32],[83,28,129,16],[83,30,129,38],[84,0,130,20],[84,17,130,27],[84,22,130,20],[85,0,131,17],[87,0,133,16],[87,12,133,20,"kind"],[87,16,133,24],[87,19,133,28,"capture"],[87,26,133,35],[87,29,133,38,"CAPTURE"],[87,36,133,35],[87,39,133,48,"BUBBLE"],[87,45,133,16],[88,0,134,16],[88,12,134,20,"prev"],[88,16,134,24],[88,19,134,27],[88,23,134,16],[89,0,135,16],[89,12,135,20,"node"],[89,16,135,24],[89,19,135,27],[89,24,135,32,"LISTENERS"],[89,33,135,27],[89,35,135,43,"type"],[89,39,135,27],[89,40,135,16],[91,0,136,16],[91,15,136,23,"node"],[91,19,136,27],[91,23,136,31],[91,27,136,16],[91,29,136,37],[92,0,137,20],[92,14,137,24,"node"],[92,18,137,28],[92,19,137,29,"listener"],[92,27,137,24],[92,32,137,42,"listener"],[92,40,137,24],[92,44,137,54,"node"],[92,48,137,58],[92,49,137,59,"kind"],[92,53,137,54],[92,58,137,68,"kind"],[92,62,137,20],[92,64,137,74],[93,0,138,24],[93,16,138,28,"prev"],[93,20,138,32],[93,24,138,36],[93,28,138,24],[93,30,138,42],[94,0,139,28],[94,19,139,33,"LISTENERS"],[94,28,139,28],[94,30,139,44,"type"],[94,34,139,28],[94,38,139,52,"node"],[94,42,139,56],[94,43,139,57,"next"],[94,47,139,28],[95,0,140,25],[95,13,138,24],[95,19,141,29],[96,0,142,28,"prev"],[96,14,142,28,"prev"],[96,18,142,32],[96,19,142,33,"next"],[96,23,142,28],[96,26,142,40,"node"],[96,30,142,44],[96,31,142,45,"next"],[96,35,142,28],[97,0,143,25],[99,0,144,24],[99,19,144,31],[99,23,144,24],[100,0,145,21],[102,0,147,20,"prev"],[102,10,147,20,"prev"],[102,14,147,24],[102,17,147,27,"node"],[102,21,147,20],[103,0,148,20,"node"],[103,10,148,20,"node"],[103,14,148,24],[103,17,148,27,"node"],[103,21,148,31],[103,22,148,32,"next"],[103,26,148,20],[104,0,149,17],[106,0,151,16],[106,15,151,23],[106,20,151,16],[107,0,152,13],[107,7,127,29],[108,0,153,12,"configurable"],[108,6,153,12,"configurable"],[108,18,153,24],[108,20,153,26],[108,24,127,29],[109,0,154,12,"writable"],[109,6,154,12,"writable"],[109,14,154,20],[109,16,154,22],[110,0,127,29],[110,5,87,4],[111,0,157,8,"dispatchEvent"],[111,4,157,8,"dispatchEvent"],[111,17,157,21],[111,19,157,23],[112,0,158,12,"value"],[112,6,158,12,"value"],[112,11,158,17],[112,13,158,19],[112,22,158,28,"dispatchEvent"],[112,35,158,19],[112,36,158,42,"event"],[112,41,158,19],[112,43,158,49],[113,0,160,16],[113,12,160,20,"node"],[113,16,160,24],[113,19,160,27],[113,24,160,32,"LISTENERS"],[113,33,160,27],[113,35,160,43,"event"],[113,40,160,48],[113,41,160,49,"type"],[113,45,160,27],[113,46,160,16],[115,0,161,16],[115,12,161,20,"node"],[115,16,161,24],[115,20,161,28],[115,24,161,16],[115,26,161,34],[116,0,162,20],[116,17,162,27],[116,21,162,20],[117,0,163,17],[119,0,166,16],[119,12,166,20,"wrapped"],[119,19,166,27],[119,22,166,30,"createEventWrapper"],[119,40,166,48],[119,41,166,49,"event"],[119,46,166,48],[119,48,166,56],[119,52,166,48],[119,53,166,16],[121,0,170,16],[121,15,170,23,"node"],[121,19,170,27],[121,23,170,31],[121,27,170,16],[121,29,170,37],[122,0,171,20],[122,14,171,24],[122,21,171,31,"node"],[122,25,171,35],[122,26,171,36,"listener"],[122,34,171,24],[122,39,171,49],[122,49,171,20],[122,51,171,61],[123,0,172,24,"node"],[123,12,172,24,"node"],[123,16,172,28],[123,17,172,29,"listener"],[123,25,172,24],[123,26,172,38,"call"],[123,30,172,24],[123,31,172,43],[123,35,172,24],[123,37,172,49,"wrapped"],[123,44,172,24],[124,0,173,21],[124,11,171,20],[124,17,174,25],[124,21,174,29,"node"],[124,25,174,33],[124,26,174,34,"kind"],[124,30,174,29],[124,35,174,43,"ATTRIBUTE"],[124,44,174,29],[124,48,174,56],[124,55,174,63,"node"],[124,59,174,67],[124,60,174,68,"listener"],[124,68,174,63],[124,69,174,77,"handleEvent"],[124,80,174,56],[124,85,174,93],[124,95,174,25],[124,97,174,105],[125,0,175,24,"node"],[125,12,175,24,"node"],[125,16,175,28],[125,17,175,29,"listener"],[125,25,175,24],[125,26,175,38,"handleEvent"],[125,37,175,24],[125,38,175,50,"wrapped"],[125,45,175,24],[126,0,176,21],[128,0,178,20],[128,14,178,24,"wrapped"],[128,21,178,31],[128,22,178,32,"STOP_IMMEDIATE_PROPAGATION_FLAG"],[128,53,178,31],[128,54,178,20],[128,56,178,66],[129,0,179,24],[130,0,180,21],[132,0,181,20,"node"],[132,10,181,20,"node"],[132,14,181,24],[132,17,181,27,"node"],[132,21,181,31],[132,22,181,32,"next"],[132,26,181,20],[133,0,182,17],[135,0,184,16],[135,15,184,23],[135,16,184,24,"wrapped"],[135,23,184,31],[135,24,184,32,"defaultPrevented"],[135,40,184,16],[136,0,185,13],[136,7,157,23],[137,0,186,12,"configurable"],[137,6,186,12,"configurable"],[137,18,186,24],[137,20,186,26],[137,24,157,23],[138,0,187,12,"writable"],[138,6,187,12,"writable"],[138,14,187,20],[138,16,187,22],[139,0,157,23],[140,0,87,4],[140,3,85,24],[140,4,85,0]]},"type":"js/module"}]}