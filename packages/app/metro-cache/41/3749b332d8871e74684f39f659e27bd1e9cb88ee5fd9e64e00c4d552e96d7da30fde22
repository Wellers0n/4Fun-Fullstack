{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"../NativeAnimatedHelper","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n\n  var _createClass = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n\n  var NativeAnimatedHelper = _$$_REQUIRE(_dependencyMap[2], \"../NativeAnimatedHelper\");\n\n  var NativeAnimatedAPI = NativeAnimatedHelper.API;\n\n  var invariant = _$$_REQUIRE(_dependencyMap[3], \"invariant\");\n\n  var _uniqueId = 1;\n\n  var AnimatedNode = function () {\n    _createClass(AnimatedNode, [{\n      key: \"__attach\",\n      value: function __attach() {}\n    }, {\n      key: \"__detach\",\n      value: function __detach() {\n        if (this.__isNative && this.__nativeTag != null) {\n          NativeAnimatedHelper.API.dropAnimatedNode(this.__nativeTag);\n          this.__nativeTag = undefined;\n        }\n      }\n    }, {\n      key: \"__getValue\",\n      value: function __getValue() {}\n    }, {\n      key: \"__getAnimatedValue\",\n      value: function __getAnimatedValue() {\n        return this.__getValue();\n      }\n    }, {\n      key: \"__addChild\",\n      value: function __addChild(child) {}\n    }, {\n      key: \"__removeChild\",\n      value: function __removeChild(child) {}\n    }, {\n      key: \"__getChildren\",\n      value: function __getChildren() {\n        return [];\n      }\n    }]);\n\n    function AnimatedNode() {\n      _classCallCheck(this, AnimatedNode);\n\n      this._listeners = {};\n    }\n\n    _createClass(AnimatedNode, [{\n      key: \"__makeNative\",\n      value: function __makeNative() {\n        if (!this.__isNative) {\n          throw new Error('This node cannot be made a \"native\" animated node');\n        }\n\n        if (this.hasListeners()) {\n          this._startListeningToNativeValueUpdates();\n        }\n      }\n    }, {\n      key: \"addListener\",\n      value: function addListener(callback) {\n        var id = String(_uniqueId++);\n        this._listeners[id] = callback;\n\n        if (this.__isNative) {\n          this._startListeningToNativeValueUpdates();\n        }\n\n        return id;\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener(id) {\n        delete this._listeners[id];\n\n        if (this.__isNative && !this.hasListeners()) {\n          this._stopListeningForNativeValueUpdates();\n        }\n      }\n    }, {\n      key: \"removeAllListeners\",\n      value: function removeAllListeners() {\n        this._listeners = {};\n\n        if (this.__isNative) {\n          this._stopListeningForNativeValueUpdates();\n        }\n      }\n    }, {\n      key: \"hasListeners\",\n      value: function hasListeners() {\n        return !!Object.keys(this._listeners).length;\n      }\n    }, {\n      key: \"_startListeningToNativeValueUpdates\",\n      value: function _startListeningToNativeValueUpdates() {\n        var _this = this;\n\n        if (this.__nativeAnimatedValueListener) {\n          return;\n        }\n\n        NativeAnimatedAPI.startListeningToAnimatedNodeValue(this.__getNativeTag());\n        this.__nativeAnimatedValueListener = NativeAnimatedHelper.nativeEventEmitter.addListener('onAnimatedValueUpdate', function (data) {\n          if (data.tag !== _this.__getNativeTag()) {\n            return;\n          }\n\n          _this._onAnimatedValueUpdateReceived(data.value);\n        });\n      }\n    }, {\n      key: \"_onAnimatedValueUpdateReceived\",\n      value: function _onAnimatedValueUpdateReceived(value) {\n        this.__callListeners(value);\n      }\n    }, {\n      key: \"__callListeners\",\n      value: function __callListeners(value) {\n        for (var _key in this._listeners) {\n          this._listeners[_key]({\n            value: value\n          });\n        }\n      }\n    }, {\n      key: \"_stopListeningForNativeValueUpdates\",\n      value: function _stopListeningForNativeValueUpdates() {\n        if (!this.__nativeAnimatedValueListener) {\n          return;\n        }\n\n        this.__nativeAnimatedValueListener.remove();\n\n        this.__nativeAnimatedValueListener = null;\n        NativeAnimatedAPI.stopListeningToAnimatedNodeValue(this.__getNativeTag());\n      }\n    }, {\n      key: \"__getNativeTag\",\n      value: function __getNativeTag() {\n        NativeAnimatedHelper.assertNativeAnimatedModule();\n        invariant(this.__isNative, 'Attempt to get native tag from node not marked as \"native\"');\n\n        if (this.__nativeTag == null) {\n          var nativeTag = NativeAnimatedHelper.generateNewNodeTag();\n          NativeAnimatedHelper.API.createAnimatedNode(nativeTag, this.__getNativeConfig());\n          this.__nativeTag = nativeTag;\n        }\n\n        return this.__nativeTag;\n      }\n    }, {\n      key: \"__getNativeConfig\",\n      value: function __getNativeConfig() {\n        throw new Error('This JS animated node type cannot be used as native animated node');\n      }\n    }, {\n      key: \"toJSON\",\n      value: function toJSON() {\n        return this.__getValue();\n      }\n    }]);\n\n    return AnimatedNode;\n  }();\n\n  module.exports = AnimatedNode;\n});","map":[[2,0,10,0],[8,0,12,0],[8,6,12,6,"NativeAnimatedHelper"],[8,26,12,26],[8,29,12,29,"require"],[8,40,12,36],[8,86,12,0],[10,0,14,0],[10,6,14,6,"NativeAnimatedAPI"],[10,23,14,23],[10,26,14,26,"NativeAnimatedHelper"],[10,46,14,46],[10,47,14,47,"API"],[10,50,14,0],[12,0,15,0],[12,6,15,6,"invariant"],[12,15,15,15],[12,18,15,18,"require"],[12,29,15,25],[12,61,15,0],[14,0,19,0],[14,6,19,4,"_uniqueId"],[14,15,19,13],[14,18,19,16],[14,19,19,0],[16,6,23,6,"AnimatedNode"],[16,18],[19,33,26,19],[19,34,26,21],[22,33,27,19],[23,0,28,4],[23,12,28,8],[23,17,28,13,"__isNative"],[23,27,28,8],[23,31,28,27],[23,36,28,32,"__nativeTag"],[23,47,28,27],[23,51,28,47],[23,55,28,4],[23,57,28,53],[24,0,29,6,"NativeAnimatedHelper"],[24,10,29,6,"NativeAnimatedHelper"],[24,30,29,26],[24,31,29,27,"API"],[24,34,29,6],[24,35,29,31,"dropAnimatedNode"],[24,51,29,6],[24,52,29,48],[24,57,29,53,"__nativeTag"],[24,68,29,6],[25,0,30,6],[25,15,30,11,"__nativeTag"],[25,26,30,6],[25,29,30,25,"undefined"],[25,38,30,6],[26,0,31,5],[27,0,32,3],[30,35,33,20],[30,36,33,22],[33,43,34,28],[34,0,35,4],[34,15,35,11],[34,20,35,16,"__getValue"],[34,30,35,11],[34,32,35,4],[35,0,36,3],[38,33,37,13,"child"],[38,38],[38,40,37,34],[38,41,37,36],[41,36,38,16,"child"],[41,41],[41,43,38,37],[41,44,38,39],[44,38,39,39],[45,0,40,4],[45,15,40,11],[45,17,40,4],[46,0,41,3],[49,0,47,2],[49,28,47,16],[50,0,47,16],[52,0,48,4],[52,11,48,9,"_listeners"],[52,21,48,4],[52,24,48,22],[52,26,48,4],[53,0,49,3],[57,37,51,17],[58,0,52,4],[58,12,52,8],[58,13,52,9],[58,18,52,14,"__isNative"],[58,28,52,4],[58,30,52,26],[59,0,53,6],[59,16,53,12],[59,20,53,16,"Error"],[59,25,53,12],[59,26,53,22],[59,77,53,12],[59,78,53,6],[60,0,54,5],[62,0,56,4],[62,12,56,8],[62,17,56,13,"hasListeners"],[62,29,56,8],[62,31,56,4],[62,33,56,29],[63,0,57,6],[63,15,57,11,"_startListeningToNativeValueUpdates"],[63,50,57,6],[64,0,58,5],[65,0,59,3],[68,34,68,14,"callback"],[68,42],[68,44,68,55],[69,0,69,4],[69,12,69,10,"id"],[69,14,69,12],[69,17,69,15,"String"],[69,23,69,21],[69,24,69,22,"_uniqueId"],[69,33,69,31],[69,35,69,21],[69,36,69,4],[70,0,70,4],[70,13,70,9,"_listeners"],[70,23,70,4],[70,24,70,20,"id"],[70,26,70,4],[70,30,70,26,"callback"],[70,38,70,4],[72,0,71,4],[72,12,71,8],[72,17,71,13,"__isNative"],[72,27,71,4],[72,29,71,25],[73,0,72,6],[73,15,72,11,"_startListeningToNativeValueUpdates"],[73,50,72,6],[74,0,73,5],[76,0,74,4],[76,15,74,11,"id"],[76,17,74,4],[77,0,75,3],[80,37,83,17,"id"],[80,39],[80,41,83,35],[81,0,84,4],[81,15,84,11],[81,20,84,16,"_listeners"],[81,30,84,11],[81,31,84,27,"id"],[81,33,84,11],[81,34,84,4],[83,0,85,4],[83,12,85,8],[83,17,85,13,"__isNative"],[83,27,85,8],[83,31,85,27],[83,32,85,28],[83,37,85,33,"hasListeners"],[83,49,85,28],[83,51,85,4],[83,53,85,49],[84,0,86,6],[84,15,86,11,"_stopListeningForNativeValueUpdates"],[84,50,86,6],[85,0,87,5],[86,0,88,3],[89,43,95,29],[90,0,96,4],[90,13,96,9,"_listeners"],[90,23,96,4],[90,26,96,22],[90,28,96,4],[92,0,97,4],[92,12,97,8],[92,17,97,13,"__isNative"],[92,27,97,4],[92,29,97,25],[93,0,98,6],[93,15,98,11,"_stopListeningForNativeValueUpdates"],[93,50,98,6],[94,0,99,5],[95,0,100,3],[98,37,102,26],[99,0,103,4],[99,15,103,11],[99,16,103,12],[99,17,103,13,"Object"],[99,23,103,19],[99,24,103,20,"keys"],[99,28,103,13],[99,29,103,25],[99,34,103,30,"_listeners"],[99,44,103,13],[99,46,103,42,"length"],[99,52,103,4],[100,0,104,3],[103,60,106,40],[104,0,106,40],[106,0,107,4],[106,12,107,8],[106,17,107,13,"__nativeAnimatedValueListener"],[106,46,107,4],[106,48,107,44],[107,0,108,6],[108,0,109,5],[110,0,111,4,"NativeAnimatedAPI"],[110,8,111,4,"NativeAnimatedAPI"],[110,25,111,21],[110,26,111,22,"startListeningToAnimatedNodeValue"],[110,59,111,4],[110,60,111,56],[110,65,111,61,"__getNativeTag"],[110,79,111,56],[110,81,111,4],[111,0,112,4],[111,13,112,9,"__nativeAnimatedValueListener"],[111,42,112,4],[111,45,112,41,"NativeAnimatedHelper"],[111,65,112,61],[111,66,112,62,"nativeEventEmitter"],[111,84,112,41],[111,85,112,81,"addListener"],[111,96,112,41],[111,97,113,6],[111,120,112,41],[111,122,114,6],[111,132,114,6,"data"],[111,136,114,10],[111,138,114,14],[112,0,115,8],[112,14,115,12,"data"],[112,18,115,16],[112,19,115,17,"tag"],[112,22,115,12],[112,27,115,25],[112,32,115,29],[112,33,115,30,"__getNativeTag"],[112,47,115,25],[112,49,115,8],[112,51,115,48],[113,0,116,10],[114,0,117,9],[116,0,118,8],[116,10,118,8],[116,15,118,12],[116,16,118,13,"_onAnimatedValueUpdateReceived"],[116,46,118,8],[116,47,118,44,"data"],[116,51,118,48],[116,52,118,49,"value"],[116,57,118,8],[117,0,119,7],[117,9,112,41],[117,10,112,4],[118,0,121,3],[121,53,123,33,"value"],[121,58],[121,60,123,48],[122,0,124,4],[122,13,124,9,"__callListeners"],[122,28,124,4],[122,29,124,25,"value"],[122,34,124,4],[123,0,125,3],[126,38,127,18,"value"],[126,43],[126,45,127,39],[127,0,128,4],[127,13,128,9],[127,17,128,15,"key"],[127,21,128,4],[127,25,128,22],[127,30,128,27,"_listeners"],[127,40,128,4],[127,42,128,39],[128,0,129,6],[128,15,129,11,"_listeners"],[128,25,129,6],[128,26,129,22,"key"],[128,30,129,6],[128,32,129,27],[129,0,129,28,"value"],[129,12,129,28,"value"],[129,17,129,33],[129,19,129,28,"value"],[130,0,129,27],[130,11,129,6],[131,0,130,5],[132,0,131,3],[135,60,133,40],[136,0,134,4],[136,12,134,8],[136,13,134,9],[136,18,134,14,"__nativeAnimatedValueListener"],[136,47,134,4],[136,49,134,45],[137,0,135,6],[138,0,136,5],[140,0,138,4],[140,13,138,9,"__nativeAnimatedValueListener"],[140,42,138,4],[140,43,138,39,"remove"],[140,49,138,4],[142,0,139,4],[142,13,139,9,"__nativeAnimatedValueListener"],[142,42,139,4],[142,45,139,41],[142,49,139,4],[143,0,140,4,"NativeAnimatedAPI"],[143,8,140,4,"NativeAnimatedAPI"],[143,25,140,21],[143,26,140,22,"stopListeningToAnimatedNodeValue"],[143,58,140,4],[143,59,140,55],[143,64,140,60,"__getNativeTag"],[143,78,140,55],[143,80,140,4],[144,0,141,3],[147,39,143,28],[148,0,144,4,"NativeAnimatedHelper"],[148,8,144,4,"NativeAnimatedHelper"],[148,28,144,24],[148,29,144,25,"assertNativeAnimatedModule"],[148,55,144,4],[149,0,145,4,"invariant"],[149,8,145,4,"invariant"],[149,17,145,13],[149,18,146,6],[149,23,146,11,"__isNative"],[149,33,145,13],[149,35,147,6],[149,95,145,13],[149,96,145,4],[151,0,149,4],[151,12,149,8],[151,17,149,13,"__nativeTag"],[151,28,149,8],[151,32,149,28],[151,36,149,4],[151,38,149,34],[152,0,150,6],[152,14,150,12,"nativeTag"],[152,23,150,30],[152,26,150,33,"NativeAnimatedHelper"],[152,46,150,53],[152,47,150,54,"generateNewNodeTag"],[152,65,150,33],[152,67,150,6],[153,0,151,6,"NativeAnimatedHelper"],[153,10,151,6,"NativeAnimatedHelper"],[153,30,151,26],[153,31,151,27,"API"],[153,34,151,6],[153,35,151,31,"createAnimatedNode"],[153,53,151,6],[153,54,152,8,"nativeTag"],[153,63,151,6],[153,65,153,8],[153,70,153,13,"__getNativeConfig"],[153,87,153,8],[153,89,151,6],[154,0,155,6],[154,15,155,11,"__nativeTag"],[154,26,155,6],[154,29,155,25,"nativeTag"],[154,38,155,6],[155,0,156,5],[157,0,157,4],[157,15,157,11],[157,20,157,16,"__nativeTag"],[157,31,157,4],[158,0,158,3],[161,42,159,30],[162,0,160,4],[162,14,160,10],[162,18,160,14,"Error"],[162,23,160,10],[162,24,161,6],[162,91,160,10],[162,92,160,4],[163,0,163,3],[166,31,164,16],[167,0,165,4],[167,15,165,11],[167,20,165,16,"__getValue"],[167,30,165,11],[167,32,165,4],[168,0,166,3],[174,0,169,0,"module"],[174,2,169,0,"module"],[174,8,169,6],[174,9,169,7,"exports"],[174,16,169,0],[174,19,169,17,"AnimatedNode"],[174,31,169,0]]},"type":"js/module"}]}