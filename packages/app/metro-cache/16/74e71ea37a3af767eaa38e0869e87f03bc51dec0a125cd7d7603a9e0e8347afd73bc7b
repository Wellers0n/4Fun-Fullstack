{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"eventemitter3","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n\n  var _createClass = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n\n  var _possibleConstructorReturn = _$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/possibleConstructorReturn\");\n\n  var _getPrototypeOf = _$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/getPrototypeOf\");\n\n  var _inherits = _$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/inherits\");\n\n  var EventEmitter = _$$_REQUIRE(_dependencyMap[5], \"eventemitter3\");\n\n  var WebSocketHMRClient = function (_EventEmitter) {\n    _inherits(WebSocketHMRClient, _EventEmitter);\n\n    function WebSocketHMRClient(url) {\n      var _this;\n\n      _classCallCheck(this, WebSocketHMRClient);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(WebSocketHMRClient).call(this));\n      _this._url = url;\n      return _this;\n    }\n\n    _createClass(WebSocketHMRClient, [{\n      key: \"enable\",\n      value: function enable() {\n        var _this2 = this;\n\n        if (this._ws) {\n          this.disable();\n        }\n\n        this._ws = new global.WebSocket(this._url);\n\n        this._ws.onopen = function () {\n          _this2.emit(\"open\");\n        };\n\n        this._ws.onerror = function (error) {\n          _this2.emit(\"connection-error\", error);\n        };\n\n        this._ws.onclose = function () {\n          _this2.emit(\"close\");\n        };\n\n        this._ws.onmessage = function (message) {\n          var data = JSON.parse(message.data);\n\n          switch (data.type) {\n            case \"update-start\":\n              _this2.emit(\"update-start\");\n\n              break;\n\n            case \"update\":\n              _this2.emit(\"update\", data.body);\n\n              break;\n\n            case \"update-done\":\n              _this2.emit(\"update-done\");\n\n              break;\n\n            case \"error\":\n              _this2.emit(\"error\", data.body);\n\n              break;\n\n            default:\n              _this2.emit(\"error\", {\n                type: \"unknown-message\",\n                message: data\n              });\n\n          }\n        };\n      }\n    }, {\n      key: \"disable\",\n      value: function disable() {\n        if (this._ws) {\n          this._ws.close();\n\n          this._ws = undefined;\n        }\n      }\n    }]);\n\n    return WebSocketHMRClient;\n  }(EventEmitter);\n\n  module.exports = WebSocketHMRClient;\n});","map":[[2,0,10,0],[14,0,12,0],[14,6,12,6,"EventEmitter"],[14,18,12,18],[14,21,12,21,"require"],[14,32,12,28],[14,68,12,0],[16,6,18,6,"WebSocketHMRClient"],[16,24],[19,0,19,2],[19,32,19,14,"url"],[19,35,19,2],[19,37,19,19],[20,0,19,19],[22,0,19,19],[24,0,20,4],[25,0,21,4],[25,12,21,9,"_url"],[25,16,21,4],[25,19,21,16,"url"],[25,22,21,4],[26,0,19,19],[27,0,22,3],[31,31,24,11],[32,0,24,11],[34,0,25,4],[34,12,25,8],[34,17,25,13,"_ws"],[34,20,25,4],[34,22,25,18],[35,0,26,6],[35,15,26,11,"disable"],[35,22,26,6],[36,0,27,5],[38,0,30,4],[38,13,30,9,"_ws"],[38,16,30,4],[38,19,30,15],[38,23,30,19,"global"],[38,29,30,25],[38,30,30,26,"WebSocket"],[38,39,30,15],[38,40,30,36],[38,45,30,41,"_url"],[38,49,30,15],[38,50,30,4],[40,0,32,4],[40,13,32,9,"_ws"],[40,16,32,4],[40,17,32,13,"onopen"],[40,23,32,4],[40,26,32,22],[40,38,32,28],[41,0,33,6],[41,10,33,6],[41,16,33,10],[41,17,33,11,"emit"],[41,21,33,6],[41,22,33,16],[41,28,33,6],[42,0,34,5],[42,9,32,4],[44,0,36,4],[44,13,36,9,"_ws"],[44,16,36,4],[44,17,36,13,"onerror"],[44,24,36,4],[44,27,36,23],[44,37,36,23,"error"],[44,42,36,28],[44,44,36,32],[45,0,37,6],[45,10,37,6],[45,16,37,10],[45,17,37,11,"emit"],[45,21,37,6],[45,22,37,16],[45,40,37,6],[45,42,37,36,"error"],[45,47,37,6],[46,0,38,5],[46,9,36,4],[48,0,40,4],[48,13,40,9,"_ws"],[48,16,40,4],[48,17,40,13,"onclose"],[48,24,40,4],[48,27,40,23],[48,39,40,29],[49,0,41,6],[49,10,41,6],[49,16,41,10],[49,17,41,11,"emit"],[49,21,41,6],[49,22,41,16],[49,29,41,6],[50,0,42,5],[50,9,40,4],[52,0,44,4],[52,13,44,9,"_ws"],[52,16,44,4],[52,17,44,13,"onmessage"],[52,26,44,4],[52,29,44,25],[52,39,44,25,"message"],[52,46,44,32],[52,48,44,36],[53,0,45,6],[53,14,45,12,"data"],[53,18,45,16],[53,21,45,19,"JSON"],[53,25,45,23],[53,26,45,24,"parse"],[53,31,45,19],[53,32,45,30,"message"],[53,39,45,37],[53,40,45,38,"data"],[53,44,45,19],[53,45,45,6],[55,0,47,6],[55,18,47,14,"data"],[55,22,47,18],[55,23,47,19,"type"],[55,27,47,6],[56,0,48,8],[56,17,48,13],[56,31,48,8],[57,0,49,10],[57,14,49,10],[57,20,49,14],[57,21,49,15,"emit"],[57,25,49,10],[57,26,49,20],[57,40,49,10],[59,0,50,10],[61,0,52,8],[61,17,52,13],[61,25,52,8],[62,0,53,10],[62,14,53,10],[62,20,53,14],[62,21,53,15,"emit"],[62,25,53,10],[62,26,53,20],[62,34,53,10],[62,36,53,30,"data"],[62,40,53,34],[62,41,53,35,"body"],[62,45,53,10],[64,0,54,10],[66,0,56,8],[66,17,56,13],[66,30,56,8],[67,0,57,10],[67,14,57,10],[67,20,57,14],[67,21,57,15,"emit"],[67,25,57,10],[67,26,57,20],[67,39,57,10],[69,0,58,10],[71,0,60,8],[71,17,60,13],[71,24,60,8],[72,0,61,10],[72,14,61,10],[72,20,61,14],[72,21,61,15,"emit"],[72,25,61,10],[72,26,61,20],[72,33,61,10],[72,35,61,29,"data"],[72,39,61,33],[72,40,61,34,"body"],[72,44,61,10],[74,0,62,10],[76,0,64,8],[77,0,65,10],[77,14,65,10],[77,20,65,14],[77,21,65,15,"emit"],[77,25,65,10],[77,26,65,20],[77,33,65,10],[77,35,65,29],[78,0,66,12,"type"],[78,16,66,12,"type"],[78,20,66,16],[78,22,66,18],[78,39,65,29],[79,0,67,12,"message"],[79,16,67,12,"message"],[79,23,67,19],[79,25,67,21,"data"],[80,0,65,29],[80,15,65,10],[82,0,47,6],[83,0,70,5],[83,9,44,4],[84,0,71,3],[87,32,73,12],[88,0,74,4],[88,12,74,8],[88,17,74,13,"_ws"],[88,20,74,4],[88,22,74,18],[89,0,75,6],[89,15,75,11,"_ws"],[89,18,75,6],[89,19,75,15,"close"],[89,24,75,6],[91,0,77,6],[91,15,77,11,"_ws"],[91,18,77,6],[91,21,77,17,"undefined"],[91,30,77,6],[92,0,78,5],[93,0,79,3],[97,4,18,33,"EventEmitter"],[97,16],[99,0,82,0,"module"],[99,2,82,0,"module"],[99,8,82,6],[99,9,82,7,"exports"],[99,16,82,0],[99,19,82,17,"WebSocketHMRClient"],[99,37,82,0]]},"type":"js/module"}]}