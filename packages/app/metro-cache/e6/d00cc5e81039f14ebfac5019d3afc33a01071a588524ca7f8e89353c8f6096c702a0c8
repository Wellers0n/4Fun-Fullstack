{"dependencies":[{"name":"XMLHttpRequest","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var XMLHttpRequest = _$$_REQUIRE(_dependencyMap[0], \"XMLHttpRequest\");\n\n  var originalXHROpen = XMLHttpRequest.prototype.open;\n  var originalXHRSend = XMLHttpRequest.prototype.send;\n  var originalXHRSetRequestHeader = XMLHttpRequest.prototype.setRequestHeader;\n  var openCallback;\n  var sendCallback;\n  var requestHeaderCallback;\n  var headerReceivedCallback;\n  var responseCallback;\n  var _isInterceptorEnabled = false;\n  var XHRInterceptor = {\n    setOpenCallback: function setOpenCallback(callback) {\n      openCallback = callback;\n    },\n    setSendCallback: function setSendCallback(callback) {\n      sendCallback = callback;\n    },\n    setHeaderReceivedCallback: function setHeaderReceivedCallback(callback) {\n      headerReceivedCallback = callback;\n    },\n    setResponseCallback: function setResponseCallback(callback) {\n      responseCallback = callback;\n    },\n    setRequestHeaderCallback: function setRequestHeaderCallback(callback) {\n      requestHeaderCallback = callback;\n    },\n    isInterceptorEnabled: function isInterceptorEnabled() {\n      return _isInterceptorEnabled;\n    },\n    enableInterception: function enableInterception() {\n      if (_isInterceptorEnabled) {\n        return;\n      }\n\n      XMLHttpRequest.prototype.open = function (method, url) {\n        if (openCallback) {\n          openCallback(method, url, this);\n        }\n\n        originalXHROpen.apply(this, arguments);\n      };\n\n      XMLHttpRequest.prototype.setRequestHeader = function (header, value) {\n        if (requestHeaderCallback) {\n          requestHeaderCallback(header, value, this);\n        }\n\n        originalXHRSetRequestHeader.apply(this, arguments);\n      };\n\n      XMLHttpRequest.prototype.send = function (data) {\n        var _this = this;\n\n        if (sendCallback) {\n          sendCallback(data, this);\n        }\n\n        if (this.addEventListener) {\n          this.addEventListener('readystatechange', function () {\n            if (!_isInterceptorEnabled) {\n              return;\n            }\n\n            if (_this.readyState === _this.HEADERS_RECEIVED) {\n              var contentTypeString = _this.getResponseHeader('Content-Type');\n\n              var contentLengthString = _this.getResponseHeader('Content-Length');\n\n              var responseContentType, responseSize;\n\n              if (contentTypeString) {\n                responseContentType = contentTypeString.split(';')[0];\n              }\n\n              if (contentLengthString) {\n                responseSize = parseInt(contentLengthString, 10);\n              }\n\n              if (headerReceivedCallback) {\n                headerReceivedCallback(responseContentType, responseSize, _this.getAllResponseHeaders(), _this);\n              }\n            }\n\n            if (_this.readyState === _this.DONE) {\n              if (responseCallback) {\n                responseCallback(_this.status, _this.timeout, _this.response, _this.responseURL, _this.responseType, _this);\n              }\n            }\n          }, false);\n        }\n\n        originalXHRSend.apply(this, arguments);\n      };\n\n      _isInterceptorEnabled = true;\n    },\n    disableInterception: function disableInterception() {\n      if (!_isInterceptorEnabled) {\n        return;\n      }\n\n      _isInterceptorEnabled = false;\n      XMLHttpRequest.prototype.send = originalXHRSend;\n      XMLHttpRequest.prototype.open = originalXHROpen;\n      XMLHttpRequest.prototype.setRequestHeader = originalXHRSetRequestHeader;\n      responseCallback = null;\n      openCallback = null;\n      sendCallback = null;\n      headerReceivedCallback = null;\n      requestHeaderCallback = null;\n    }\n  };\n  module.exports = XHRInterceptor;\n});","map":[[2,0,10,0],[4,0,12,0],[4,6,12,6,"XMLHttpRequest"],[4,20,12,20],[4,23,12,23,"require"],[4,34,12,30],[4,71,12,0],[6,0,13,0],[6,6,13,6,"originalXHROpen"],[6,21,13,21],[6,24,13,24,"XMLHttpRequest"],[6,38,13,38],[6,39,13,39,"prototype"],[6,48,13,24],[6,49,13,49,"open"],[6,53,13,0],[7,0,14,0],[7,6,14,6,"originalXHRSend"],[7,21,14,21],[7,24,14,24,"XMLHttpRequest"],[7,38,14,38],[7,39,14,39,"prototype"],[7,48,14,24],[7,49,14,49,"send"],[7,53,14,0],[8,0,15,0],[8,6,15,6,"originalXHRSetRequestHeader"],[8,33,15,33],[8,36,15,36,"XMLHttpRequest"],[8,50,15,50],[8,51,15,51,"prototype"],[8,60,15,36],[8,61,15,61,"setRequestHeader"],[8,77,15,0],[9,0,17,0],[9,6,17,4,"openCallback"],[9,18,17,0],[10,0,18,0],[10,6,18,4,"sendCallback"],[10,18,18,0],[11,0,19,0],[11,6,19,4,"requestHeaderCallback"],[11,27,19,0],[12,0,20,0],[12,6,20,4,"headerReceivedCallback"],[12,28,20,0],[13,0,21,0],[13,6,21,4,"responseCallback"],[13,22,21,0],[14,0,23,0],[14,6,23,4,"isInterceptorEnabled"],[14,27,23,24],[14,30,23,27],[14,35,23,0],[15,0,32,0],[15,6,32,6,"XHRInterceptor"],[15,20,32,20],[15,23,32,23],[16,0,36,2,"setOpenCallback"],[16,4,36,2,"setOpenCallback"],[16,19,32,23],[16,46,36,18,"callback"],[16,54,32,23],[16,56,36,28],[17,0,37,4,"openCallback"],[17,6,37,4,"openCallback"],[17,18,37,16],[17,21,37,19,"callback"],[17,29,37,4],[18,0,38,3],[18,5,32,23],[19,0,43,2,"setSendCallback"],[19,4,43,2,"setSendCallback"],[19,19,32,23],[19,46,43,18,"callback"],[19,54,32,23],[19,56,43,28],[20,0,44,4,"sendCallback"],[20,6,44,4,"sendCallback"],[20,18,44,16],[20,21,44,19,"callback"],[20,29,44,4],[21,0,45,3],[21,5,32,23],[22,0,50,2,"setHeaderReceivedCallback"],[22,4,50,2,"setHeaderReceivedCallback"],[22,29,32,23],[22,66,50,28,"callback"],[22,74,32,23],[22,76,50,38],[23,0,51,4,"headerReceivedCallback"],[23,6,51,4,"headerReceivedCallback"],[23,28,51,26],[23,31,51,29,"callback"],[23,39,51,4],[24,0,52,3],[24,5,32,23],[25,0,57,2,"setResponseCallback"],[25,4,57,2,"setResponseCallback"],[25,23,32,23],[25,54,57,22,"callback"],[25,62,32,23],[25,64,57,32],[26,0,58,4,"responseCallback"],[26,6,58,4,"responseCallback"],[26,22,58,20],[26,25,58,23,"callback"],[26,33,58,4],[27,0,59,3],[27,5,32,23],[28,0,64,2,"setRequestHeaderCallback"],[28,4,64,2,"setRequestHeaderCallback"],[28,28,32,23],[28,64,64,27,"callback"],[28,72,32,23],[28,74,64,37],[29,0,65,4,"requestHeaderCallback"],[29,6,65,4,"requestHeaderCallback"],[29,27,65,25],[29,30,65,28,"callback"],[29,38,65,4],[30,0,66,3],[30,5,32,23],[31,0,68,2,"isInterceptorEnabled"],[31,4,68,2,"isInterceptorEnabled"],[31,24,32,23],[31,58,68,25],[32,0,69,4],[32,13,69,11,"isInterceptorEnabled"],[32,34,69,4],[33,0,70,3],[33,5,32,23],[34,0,72,2,"enableInterception"],[34,4,72,2,"enableInterception"],[34,22,32,23],[34,54,72,23],[35,0,73,4],[35,10,73,8,"isInterceptorEnabled"],[35,31,73,4],[35,33,73,30],[36,0,74,6],[37,0,75,5],[39,0,78,4,"XMLHttpRequest"],[39,6,78,4,"XMLHttpRequest"],[39,20,78,18],[39,21,78,19,"prototype"],[39,30,78,4],[39,31,78,29,"open"],[39,35,78,4],[39,38,78,36],[39,48,78,45,"method"],[39,54,78,36],[39,56,78,53,"url"],[39,59,78,36],[39,61,78,58],[40,0,79,6],[40,12,79,10,"openCallback"],[40,24,79,6],[40,26,79,24],[41,0,80,8,"openCallback"],[41,10,80,8,"openCallback"],[41,22,80,20],[41,23,80,21,"method"],[41,29,80,20],[41,31,80,29,"url"],[41,34,80,20],[41,36,80,34],[41,40,80,20],[41,41,80,8],[42,0,81,7],[44,0,82,6,"originalXHROpen"],[44,8,82,6,"originalXHROpen"],[44,23,82,21],[44,24,82,22,"apply"],[44,29,82,6],[44,30,82,28],[44,34,82,6],[44,36,82,34,"arguments"],[44,45,82,6],[45,0,83,5],[45,7,78,4],[47,0,87,4,"XMLHttpRequest"],[47,6,87,4,"XMLHttpRequest"],[47,20,87,18],[47,21,87,19,"prototype"],[47,30,87,4],[47,31,87,29,"setRequestHeader"],[47,47,87,4],[47,50,87,48],[47,60,87,57,"header"],[47,66,87,48],[47,68,87,65,"value"],[47,73,87,48],[47,75,87,72],[48,0,88,6],[48,12,88,10,"requestHeaderCallback"],[48,33,88,6],[48,35,88,33],[49,0,89,8,"requestHeaderCallback"],[49,10,89,8,"requestHeaderCallback"],[49,31,89,29],[49,32,89,30,"header"],[49,38,89,29],[49,40,89,38,"value"],[49,45,89,29],[49,47,89,45],[49,51,89,29],[49,52,89,8],[50,0,90,7],[52,0,91,6,"originalXHRSetRequestHeader"],[52,8,91,6,"originalXHRSetRequestHeader"],[52,35,91,33],[52,36,91,34,"apply"],[52,41,91,6],[52,42,91,40],[52,46,91,6],[52,48,91,46,"arguments"],[52,57,91,6],[53,0,92,5],[53,7,87,4],[55,0,96,4,"XMLHttpRequest"],[55,6,96,4,"XMLHttpRequest"],[55,20,96,18],[55,21,96,19,"prototype"],[55,30,96,4],[55,31,96,29,"send"],[55,35,96,4],[55,38,96,36],[55,48,96,45,"data"],[55,52,96,36],[55,54,96,51],[56,0,96,51],[58,0,97,6],[58,12,97,10,"sendCallback"],[58,24,97,6],[58,26,97,24],[59,0,98,8,"sendCallback"],[59,10,98,8,"sendCallback"],[59,22,98,20],[59,23,98,21,"data"],[59,27,98,20],[59,29,98,27],[59,33,98,20],[59,34,98,8],[60,0,99,7],[62,0,100,6],[62,12,100,10],[62,17,100,15,"addEventListener"],[62,33,100,6],[62,35,100,33],[63,0,101,8],[63,15,101,13,"addEventListener"],[63,31,101,8],[63,32,102,10],[63,50,101,8],[63,52,103,10],[63,64,103,16],[64,0,104,12],[64,16,104,16],[64,17,104,17,"isInterceptorEnabled"],[64,38,104,12],[64,40,104,39],[65,0,105,14],[66,0,106,13],[68,0,107,12],[68,16,107,16],[68,21,107,20],[68,22,107,21,"readyState"],[68,32,107,16],[68,37,107,36],[68,42,107,40],[68,43,107,41,"HEADERS_RECEIVED"],[68,59,107,12],[68,61,107,59],[69,0,108,14],[69,18,108,20,"contentTypeString"],[69,35,108,37],[69,38,108,40],[69,43,108,44],[69,44,108,45,"getResponseHeader"],[69,61,108,40],[69,62,108,63],[69,76,108,40],[69,77,108,14],[71,0,109,14],[71,18,109,20,"contentLengthString"],[71,37,109,39],[71,40,109,42],[71,45,109,46],[71,46,109,47,"getResponseHeader"],[71,63,109,42],[71,64,110,16],[71,80,109,42],[71,81,109,14],[73,0,112,14],[73,18,112,18,"responseContentType"],[73,37,112,14],[73,39,112,39,"responseSize"],[73,51,112,14],[75,0,113,14],[75,18,113,18,"contentTypeString"],[75,35,113,14],[75,37,113,37],[76,0,114,16,"responseContentType"],[76,16,114,16,"responseContentType"],[76,35,114,35],[76,38,114,38,"contentTypeString"],[76,55,114,55],[76,56,114,56,"split"],[76,61,114,38],[76,62,114,62],[76,65,114,38],[76,67,114,67],[76,68,114,38],[76,69,114,16],[77,0,115,15],[79,0,116,14],[79,18,116,18,"contentLengthString"],[79,37,116,14],[79,39,116,39],[80,0,117,16,"responseSize"],[80,16,117,16,"responseSize"],[80,28,117,28],[80,31,117,31,"parseInt"],[80,39,117,39],[80,40,117,40,"contentLengthString"],[80,59,117,39],[80,61,117,61],[80,63,117,39],[80,64,117,16],[81,0,118,15],[83,0,119,14],[83,18,119,18,"headerReceivedCallback"],[83,40,119,14],[83,42,119,42],[84,0,120,16,"headerReceivedCallback"],[84,16,120,16,"headerReceivedCallback"],[84,38,120,38],[84,39,121,18,"responseContentType"],[84,58,120,38],[84,60,122,18,"responseSize"],[84,72,120,38],[84,74,123,18],[84,79,123,22],[84,80,123,23,"getAllResponseHeaders"],[84,101,123,18],[84,103,120,38],[84,105,124,18],[84,110,120,38],[84,111,120,16],[85,0,126,15],[86,0,127,13],[88,0,128,12],[88,16,128,16],[88,21,128,20],[88,22,128,21,"readyState"],[88,32,128,16],[88,37,128,36],[88,42,128,40],[88,43,128,41,"DONE"],[88,47,128,12],[88,49,128,47],[89,0,129,14],[89,18,129,18,"responseCallback"],[89,34,129,14],[89,36,129,36],[90,0,130,16,"responseCallback"],[90,16,130,16,"responseCallback"],[90,32,130,32],[90,33,131,18],[90,38,131,22],[90,39,131,23,"status"],[90,45,130,32],[90,47,132,18],[90,52,132,22],[90,53,132,23,"timeout"],[90,60,130,32],[90,62,133,18],[90,67,133,22],[90,68,133,23,"response"],[90,76,130,32],[90,78,134,18],[90,83,134,22],[90,84,134,23,"responseURL"],[90,95,130,32],[90,97,135,18],[90,102,135,22],[90,103,135,23,"responseType"],[90,115,130,32],[90,117,136,18],[90,122,130,32],[90,123,130,16],[91,0,138,15],[92,0,139,13],[93,0,140,11],[93,11,101,8],[93,13,141,10],[93,18,101,8],[94,0,143,7],[96,0,144,6,"originalXHRSend"],[96,8,144,6,"originalXHRSend"],[96,23,144,21],[96,24,144,22,"apply"],[96,29,144,6],[96,30,144,28],[96,34,144,6],[96,36,144,34,"arguments"],[96,45,144,6],[97,0,145,5],[97,7,96,4],[99,0,146,4,"isInterceptorEnabled"],[99,6,146,4,"isInterceptorEnabled"],[99,27,146,24],[99,30,146,27],[99,34,146,4],[100,0,147,3],[100,5,32,23],[101,0,150,2,"disableInterception"],[101,4,150,2,"disableInterception"],[101,23,32,23],[101,56,150,24],[102,0,151,4],[102,10,151,8],[102,11,151,9,"isInterceptorEnabled"],[102,32,151,4],[102,34,151,31],[103,0,152,6],[104,0,153,5],[106,0,154,4,"isInterceptorEnabled"],[106,6,154,4,"isInterceptorEnabled"],[106,27,154,24],[106,30,154,27],[106,35,154,4],[107,0,155,4,"XMLHttpRequest"],[107,6,155,4,"XMLHttpRequest"],[107,20,155,18],[107,21,155,19,"prototype"],[107,30,155,4],[107,31,155,29,"send"],[107,35,155,4],[107,38,155,36,"originalXHRSend"],[107,53,155,4],[108,0,156,4,"XMLHttpRequest"],[108,6,156,4,"XMLHttpRequest"],[108,20,156,18],[108,21,156,19,"prototype"],[108,30,156,4],[108,31,156,29,"open"],[108,35,156,4],[108,38,156,36,"originalXHROpen"],[108,53,156,4],[109,0,157,4,"XMLHttpRequest"],[109,6,157,4,"XMLHttpRequest"],[109,20,157,18],[109,21,157,19,"prototype"],[109,30,157,4],[109,31,157,29,"setRequestHeader"],[109,47,157,4],[109,50,157,48,"originalXHRSetRequestHeader"],[109,77,157,4],[110,0,158,4,"responseCallback"],[110,6,158,4,"responseCallback"],[110,22,158,20],[110,25,158,23],[110,29,158,4],[111,0,159,4,"openCallback"],[111,6,159,4,"openCallback"],[111,18,159,16],[111,21,159,19],[111,25,159,4],[112,0,160,4,"sendCallback"],[112,6,160,4,"sendCallback"],[112,18,160,16],[112,21,160,19],[112,25,160,4],[113,0,161,4,"headerReceivedCallback"],[113,6,161,4,"headerReceivedCallback"],[113,28,161,26],[113,31,161,29],[113,35,161,4],[114,0,162,4,"requestHeaderCallback"],[114,6,162,4,"requestHeaderCallback"],[114,27,162,25],[114,30,162,28],[114,34,162,4],[115,0,163,3],[116,0,32,23],[116,3,32,0],[117,0,166,0,"module"],[117,2,166,0,"module"],[117,8,166,6],[117,9,166,7,"exports"],[117,16,166,0],[117,19,166,17,"XHRInterceptor"],[117,33,166,0]]},"type":"js/module"}]}